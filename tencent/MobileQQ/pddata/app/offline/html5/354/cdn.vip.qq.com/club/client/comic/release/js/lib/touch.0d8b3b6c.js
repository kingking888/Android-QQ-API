define("lib/touch",[],function(a,b,c){return function(a){function b(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function c(){"number"==typeof k&&clearTimeout(k),
k=null,m.last&&(m.el.trigger("longTap"),m={})}function d(){"number"==typeof k&&clearTimeout(k),k=null}function e(){"number"==typeof h&&clearTimeout(h),"number"==typeof i&&clearTimeout(i),"number"==typeof j&&clearTimeout(j),
"number"==typeof k&&clearTimeout(k),h=i=j=k=null,m={}}function f(a){return("touch"==a.pointerType||a.pointerType==a.MSPOINTER_TYPE_TOUCH)&&a.isPrimary}function g(a,b){return a.type=="pointer"+b||a.type.toLowerCase()=="mspointer"+b;
}var h,i,j,k,l,m={},n=500,o=0;a(document).ready(function(){var p,q,r,s,t=0,u=0;"MSGesture"in window&&(l=new MSGesture,l.target=document.body),a(document).bind("MSGestureEnd",function(a){var b=a.velocityX>1?"Right":a.velocityX<-1?"Left":a.velocityY>1?"Down":a.velocityY<-1?"Up":null;
b&&(m.el&&m.el.trigger("swipe"),m.el&&m.el.trigger("swipe"+b))}).on("touchstart MSPointerDown pointerdown",function(b){(!(s=g(b,"down"))||f(b))&&(r=s?b:b.touches[0],b.touches&&1===b.touches.length&&m.x2&&(m.x2=void 0,
m.y2=void 0),p=Date.now(),q=p-(m.last||p),m.el=a("tagName"in r.target?r.target:r.target.parentNode),h&&clearTimeout(h),m.x1=r.pageX,m.y1=r.pageY,q>0&&250>=q&&(m.isDoubleTap=!0),m.last=p,"number"==typeof k&&clearTimeout(k),
Date.now()-o>500&&(k=setTimeout(c,n)),l&&s&&l.addPointer(b.pointerId))}).on("touchmove MSPointerMove pointermove",function(a){(!(s=g(a,"move"))||f(a))&&(r=s?a:a.touches[0],d(),o=Date.now(),m.x2=r.pageX,
m.y2=r.pageY,t+=Math.abs(m.x1-m.x2),u+=Math.abs(m.y1-m.y2))}).on("touchend MSPointerUp pointerup",function(c){(!(s=g(c,"up"))||f(c))&&(d(),m.x2&&Math.abs(m.x1-m.x2)>30||m.y2&&Math.abs(m.y1-m.y2)>30?j=setTimeout(function(){
m.el&&m.el.trigger("swipe"),m.el&&m.el.trigger("swipe"+b(m.x1,m.x2,m.y1,m.y2)),m={}},0):"last"in m&&(30>t&&30>u?i=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=e,m.el&&m.el.trigger(b),m.isDoubleTap?(m.el&&m.el.trigger("doubleTap"),
m={}):h=setTimeout(function(){h=null,m.el&&m.el.trigger("singleTap"),m={}},250)},0):m={}),t=u=0)}).on("touchcancel MSPointerCancel pointercancel",e),a(window).on("scroll",e)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){
a.fn[b]=function(a){return this.on(b,a)}})}(Zepto),Zepto});