!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=126)}({0:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"c",function(){return o});var i=viola.requireAPI("bridge"),n=function(t){return 0===t.code};function o(t,e,r){var n={ns:t,method:e};r&&(n.params=r),i.invoke(n)}function a(t,e,r){return new Promise(function(o,a){var s={ns:t,method:e};r&&(s.params=r),i.invoke(s,function(r){r&&n(r)?o(r.data):a("\n        [ Error ]\n          ns: "+t+"\n          method: "+e+"\n          message: "+r.errorText+"\n        ")})})}e.a=i},1:function(t,e,r){"use strict";function i(t,e,r,i,n,o,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l="function"==typeof t?t.options:t;return e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId=o),l._stylesheet=n,{exports:t,options:l}}r.d(e,"a",function(){return i})},100:function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))n.call(r,l)&&(s[l]=r[l]);if(i){a=i(r);for(var d=0;d<a.length;d++)o.call(r,a[d])&&(s[a[d]]=r[a[d]])}}return s}},101:function(t,e,r){var i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),c=n[r];r<o;c=n[++r])h(c)||!_(c)?s+=" "+c:s+=" "+a(c);return s},e.deprecate=function(t,r){if(v(global.process))return function(){return e.deprecate(t,r).apply(this,arguments)};if(!0===process.noDeprecation)return t;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation,i=!0}return t.apply(this,arguments)}};var n,o={};function a(t,r){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(r)?i.showHidden=r:r&&e._extend(i,r),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),l(i,t,i.depth)}function s(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function c(t,e){return t}function l(t,r,i){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(i,t);return g(n)||(n=l(t,n,i)),n}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(g(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(m(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(h(e))return t.stylize("null","null")}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),w(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(S(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(y(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return d(r)}var _,O="",k=!1,j=["{","}"];(u(r)&&(k=!0,j=["[","]"]),S(r))&&(O=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(O=" "+RegExp.prototype.toString.call(r)),b(r)&&(O=" "+Date.prototype.toUTCString.call(r)),w(r)&&(O=" "+d(r)),0!==a.length||k&&0!=r.length?i<0?y(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),_=k?function(t,e,r,i,n){for(var o=[],a=0,s=e.length;a<s;++a)x(e,String(a))?o.push(f(t,e,r,i,String(a),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(f(t,e,r,i,n,!0))}),o}(t,r,i,s,a):a.map(function(e){return f(t,r,i,s,e,k)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(_,O,j)):j[0]+O+j[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,i,n,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),x(i,n)||(a="["+n+"]"),s||(t.seen.indexOf(c.value)<0?(s=h(r)?l(t,c.value,null):l(t,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(o&&n.match(/^\d+$/))return s;(a=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function u(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function h(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function v(t){return void 0===t}function y(t){return _(t)&&"[object RegExp]"===O(t)}function _(t){return"object"==typeof t&&null!==t}function b(t){return _(t)&&"[object Date]"===O(t)}function w(t){return _(t)&&("[object Error]"===O(t)||t instanceof Error)}function S(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}e.debuglog=function(t){if(v(n)&&(n=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){process.pid;o[t]=function(){e.format.apply(e,arguments)}}else o[t]=function(){};return o[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=u,e.isBoolean=p,e.isNull=h,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=y,e.isObject=_,e.isDate=b,e.isError=w,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(102);function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){},e.inherits=r(103),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}},102:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},103:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},11:function(t,e,r){"use strict";var i=r(0);r(4);var n="undefined"!=typeof ViolaEnv&&"iOS"===ViolaEnv.platform,o="undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform,a=("undefined"!=typeof ViolaEnv&&ViolaEnv.platform,function(){var t=viola.pageData.url.split("?")[1];t?t.split("&").reduce(function(t,e){if(e){var r=e.split("=");t[r[0]]=r[1]}return t},Object.create(null)):Object.create(null)}(),viola.pageData.param||Object.create(null),function(t,e,r){r?i.a.invoke({ns:"event",method:t,params:e},r):i.a.invoke({ns:"event",method:t,params:e})}),s=[],c=function(t){return s.indexOf(t)},l=function(t){return s._init||(s._init=1,viola.on("destroy",function(){s.length=0})),function(t){return-1!==s.indexOf(t)}(t)?c(t):s.push(t)-1};function d(t,e){var r=l(e);return a("addEventListener",{identifier:""+r,eventName:t},function(t){if(0!==t.code)throw new TypeError("[addEventListener]: "+t.errorText);s[r]&&s[r](t.data)}),r}var f=r(5),u=r(3);r.d(e,"c",function(){return o}),r.d(e,"d",function(){return n}),r.d(e,"e",function(){return d}),r.d(e,"a",function(){return f.a}),r.d(e,"b",function(){return f.b}),r.d(e,"f",function(){return u.a}),r.d(e,"g",function(){return u.b})},126:function(t,e,r){"use strict";r.r(e);r(21);var i=r(17),n=r.n(i),o=r(31),a=r.n(o),s=r(26),c=r.n(s),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tag-container"},[2===t.info.label_type?r("div",{staticClass:"attention-tag"},[r("text",{staticClass:"tag-text"},[t._v("我的关注")])]):t.info.background_pic_url?r("div",{staticClass:"normal-tag"},[t.info.background_pic_url?r("image",{staticClass:"tag-bg-img",attrs:{resize:"cover",src:t.info.background_pic_url}}):t._e(),r("div",{staticClass:"icon-text"},[t.info.pic_url?r("image",{staticClass:"tag-img",attrs:{resize:"cover",src:t.info.pic_url}}):t._e(),r("text",{staticClass:"tag-context",attrs:{value:t.info.wording}})])]):t._e()])};l._withStripped=!0;var d=r(1),f=r(96),u=Object(d.a)({name:"RoomTag",data:function(){return{tagType:{name:"",backgroundPic:""}}},props:["info"]},l,[],!1,f,"data-v-69b5285e",null);u.options.__file="src/pages/kd_now/components/RoomTag.vue";var p=u.exports;function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){return Object.prototype.toString.call(t)==="[object "+(e||"Object")+"]"}function g(t){return"object"===h(t)&&!!t}function v(t,e){for(var r in e)t[r]=e[r];return t}function y(t,e){return t.toString()===e.toString()}var _={};function b(t,e){if(!g(t))return!0;var r=t.msg;return(_[r]=(parseInt(_[r],10)||0)+1)>e}function w(t){if(!t)return{};var e={};if("object"===h(t))return t;try{e=JSON.parse(t)}catch(t){}return"string"==typeof e?{}:e}var S=r(11);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x=viola.requireAPI("http"),k={opername:"now_jiehe",module:"kandian_now_room",source:"kandian_003",installsrc:S.d?16231:16232,timestr:parseInt((new Date).getTime()/1e3),uin:1,deviceID:1,imei:(S.d,1),platform:S.d?"ios":"android"};var j=new function(){this.tdbankReport=function(t){!function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;if(e&&"object"===O(e)){if(Array.isArray(e)){if(e.length<=0)return}else{if(Object.keys(e).length<=0)return;e=[e]}for(var i={table_id:"personal_live_base",busi_id:"b_sng_im_personal_live",pr_ip:"obj3",pr_t:"ts"},n=[],o="",a=0;a<e.length;a++){var s=e[a];if(a>=r){var c=e.slice(r);t(c,r);break}var l=Object.assign({},k,s),d=[];for(var f in l)0===a&&n.push('"'+f+'"'),d.push('"'+l[f]+'"');o=o+"["+d.join(",")+"],"}o=o.slice(0,o.length-1),i.fields="["+n.join(",")+"]",i.datas="["+o+"]";var u,p=(u=i)?function(t){for(var e=[],r=0;r<t.length;r++)t[r]&&e.push(t[r]);return e}(Object.keys(u).map(function(t){return void 0===u[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(u[t])})).join("&"):"";x.request({url:"https://report.url.cn/cgi-bin/tdbank?".concat(p),method:"GET"},function(t){})}}(t)},this.init=function(t,e){k.uin=t,k.deviceID=e.identifier,k.imei=S.d?e.idfa:e.imsi}},C=j.tdbankReport,E=5;var R=viola.requireAPI("QReport").reportT,q={channel_id:41669,IOS:"",Android:"",feeds_type:2004,channel_version:1},I=new function(){this.kandianReport=function(t,e){!function(t,e){e||(e={});var r=Object.assign({},q,e);R(t,{r5:r})}(t,e)},this.init=function(t,e){q.IOS=e.idfa,q.Android=e.imsi}},L=I.kandianReport;var T={name:"RoomItemCard",data:function(){return{}},created:function(){C({action:"channel_room_view",obj1:this.index,obj2:this.item.label_info.label_type,anchor:this.item.room_id,roomid:this.item.room_id}),L("0X8007626"),this.aegis.monitor(34479725)},props:["item","invertWidth","index","aegis"],components:{RoomTag:p,qImage:c.a},computed:{deviceWidth:function(){return ViolaEnv.deviceWidth},cardWidth:function(){return(this.deviceWidth-2*this.invertWidth-this.invertWidth)/2}},methods:{transCount:function(t){return(t=(t=t||0)<0?0:t)<=9999?t:Number((t/1e4).toFixed(1))+"w"},clickClose:function(){this.$emit("clickClose",this.item,this.$refs.close)},clickWrap:function(t,e){C({action:"channel_room_click",obj1:this.index,obj2:this.item.label_info.label_type,anchor:this.item.room_id,roomid:this.item.room_id}),L("0X8007625"),this.$emit("clickWrap",t,e)},imgLoadHandler:function(t){t&&t.image&&0==t.image.success&&this.aegis.monitor(34479480)}}},M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("div",{staticClass:"item-container"},[i("div",{staticClass:"image-container",on:{click:function(e){t.clickWrap(e,t.item)}}},[i("image",{staticClass:"picture",style:{width:t.cardWidth+"dp",height:t.cardWidth+"dp"},attrs:{resize:"cover",src:t.item.room_logo_url||""},on:{finish:t.imgLoadHandler}}),i("image",{staticClass:"video_mask",style:{width:t.cardWidth+"dp",height:"60dp"},attrs:{resize:"cover",src:"https://qpic.url.cn/feeds_pic/Q3auHgzwzM4SpzNHENhc1DjS7uQHmYqCiaib3BH3RKZbxWwDpFAOKcqA/"}}),i("image",{staticClass:"top-mask",style:{width:t.cardWidth+"dp",height:"30dp"},attrs:{src:"https://qpic.url.cn/feeds_pic/PiajxSqBRaEJdPq7qaE5iaOzGYYfwVY8N6OtOGkiaBf1c0ttMDZSeKYfQ/"}}),i("div",{staticClass:"renqi-content"},[i("image",{staticClass:"icon-renqi",attrs:{resize:"cover",src:r(97)}}),i("text",{staticClass:"online-num",attrs:{value:t.transCount(t.item.room_online_num)}})]),i("div",{staticClass:"room-tag"},[i("RoomTag",{attrs:{info:t.item.label_info}})],1),i("text",{staticClass:"room-title",style:{maxWidth:2*t.cardWidth/3+"dp"},attrs:{value:t.item.room_name}})]),i("div",{staticClass:"content-wrap",style:{width:t.cardWidth+"dp"}},[i("text",{staticClass:"anchor-name",style:{maxWidth:t.cardWidth/2+"dp"},attrs:{value:t.item.anchor_name}}),t.item.room_city?i("text",{staticClass:"point"},[t._v("•")]):t._e(),i("text",{staticClass:"anchor-city",style:{maxWidth:t.cardWidth/2-5+"dp"},attrs:{value:t.item.room_city}})])]):t._e()};M._withStripped=!0;var D=r(95),P=Object(d.a)(T,M,[],!1,D,"data-v-189792c8",null);P.options.__file="src/pages/kd_now/components/RoomItemCard.vue";var $=P.exports,A=r(18),W={name:"LoadingPage",props:["isLoading"],data:function(){return{isIOS:S.d}}},N=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-container"},[e("indicate-loading",{staticClass:"loading",class:{"footer_loading-ios":this.isIOS},attrs:{stopAnimating:!this.isLoading}})],1)};N._withStripped=!0;var V=r(98),B=Object(d.a)(W,N,[],!1,V,"data-v-3020cdfd",null);B.options.__file="src/pages/kd_now/components/LoadingPage.vue";var z=B.exports;r(99);function H(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var F,J=[],U="undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform,G=viola.requireAPI("cache"),K=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.db=null}var e,r,i;return e=t,(r=[{key:"getStore",value:function(){return new Promise(function(t,e){try{G.getItem("badjsDB",function(e){t(e)})}catch(t){e(t)}})}},{key:"ready",value:function(t){var e=this,r=this;this.getStore().then(function(i){if(!U&&"{}"!==JSON.stringify(i)||U&&"{}"!==i){if("string"==typeof i)try{e.db=JSON.parse(i)}catch(t){e.db=[]}else e.db=i;setTimeout(function(){t(null,r)},0)}else e.db=[],G.setItem("badjsDB",JSON.stringify(e.db)),setTimeout(function(){t(null,r)},0)}).catch(function(e){t("init database error: ",e)})}},{key:"insertToDB",value:function(t){this.db.push(t),G.setItem("badjsDB",JSON.stringify(this.db))}},{key:"addLogs",value:function(t){if(this.db){for(var e=0;e<t.length;e++)this.db.push(t[e]);G.setItem("lodDB",JSON.stringify(this.db))}}},{key:"getLogs",value:function(t,e){if(this.db){for(var r={},i=[],n=[],o={},a=[],s=0,c=0,l=0;l<this.db.length;l++){var d=this.db[l];if(d.time>=t.start&&d.time<=t.end&&y(d.id,t.id)&&y(d.uin,t.uin)){var f=d.from,u=d.level,p=d.msg,h=d.time,m=d.version;"number"!=typeof r[p]&&(i.push(p),r[p]=s++),"number"!=typeof o[f]&&(a.push(f),o[f]=c++),n.push({f:o[f],l:u,m:r[p],t:h,v:m})}}e(null,n,i,a)}}},{key:"clearDB",value:function(t){if(this.db)if(t){var e=Date.now()-24*(t||2)*3600*1e3;this.db=this.db.filter(function(t){return t.time&&t.time>e}),G.setItem("badjsDB",JSON.stringify(this.db))}else G.remove("badjsDB")}},{key:"save2Offline",value:function(t,e,r){e=v({id:r.id,uin:r.uin,time:new Date-0,version:r.version},e),this.db?this.insertToDB(e):(this.db||J.length||this.ready(function(t,e){e&&J.length&&(e.addLogs(J),J=[])}),J.push(e))}}])&&H(e.prototype,r),i&&H(e,i),t}();function X(){return F||(F=new K)}function Y(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Z=[],Q=0,tt=function(t){(clearTimeout(Q),Z.length)&&(ot(t._reportUrl+Z.join("&")+"&count="+Z.length+"&_t="+ +new Date),Q=0,Z=[])},et=function(t,e,r){var i,n=[],o=[],a=[];if(g(t))for(var s in t.level=t.level||r.level,t){var c=t[s];if(null!==(i=c)&&(m(i,"Number")||i)){if(g(c))try{c=JSON.stringify(c)}catch(t){c="[BJ_REPORT detect value stringify error] "+t.toString()}a.push(s+":"+c),n.push(s+"="+encodeURIComponent(c)),o.push(s+"["+e+"]="+encodeURIComponent(c))}}return[o.join("&"),a.join(","),n.join("&")]},rt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e}var e,r,i;return e=t,(r=[{key:"processLog",value:function(t,e){var r=this.config;if(r._reportUrl){for(var i=Math.random()>=r.random;t.length;){var n=!1,o=t.shift();if((!r.beforeReport||!1!==r.beforeReport(o))&&(o.msg=r.appVersion?"<".concat(r.appVersion,">").concat(o.msg):o.msg,o.msg=(o.msg+""||"").substr(0,r.maxLength),!b(o,r.repeat))){var a=et(o,Z.length,r);if(m(r.ignore,"Array"))for(var s=0,c=r.ignore.length;s<c;s++){var l=r.ignore[s];if(m(l,"RegExp")&&l.test(a[1])||m(l,"Function")&&l(o,a[1])){n=!0;break}}if(!n){var d=X();r.offlineLog&&d.save2Offline("badjs_"+r.id+r.uin,o,r),i||20===o.level||(Z.push(a[0]),r.onReport&&r.onReport(r.id,o))}}}e?tt(r):Q||(Q=setTimeout(tt.bind(null,r),r.delay))}}},{key:"reportOffline",value:function(t){var e=this.config,r=e.id,i=e.uin;!function(t,e){nt.request({url:"https:"+t,method:"post",headers:{"Content-Type":"application/json"},data:{offline_log:e}},function(t){})}(e.url+"/offlineLog",JSON.stringify(Object.assign(t,{id:r,uin:i})))}}])&&Y(e.prototype,r),i&&Y(e,i),t}();function it(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var nt=viola.requireAPI("http");function ot(t,e){nt.request({url:"https:"+t,method:"post",headers:{"Content-Type":"application/json"},data:e},function(t){})}var at=[],st="undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform,ct={id:0,uin:0,url:"//aegis.qq.com/badjs",appVersion:"",version:0,ext:null,level:4,ignore:[],random:1,delay:1e3,maxLength:500,submit:null,monitorUrl:"//report.url.cn/report/report_vm",repeat:5,offlineLog:!1,offlineLogExp:3,offlineLogAuto:!1,onReport:function(){},beforeReport:function(){return!0}},lt=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listening=!1,this.checkWhitelist(function(t){r.isWhite=t}),this._initConfig(e),this.offlineLog&&this._initOffline(),this.log=new rt(ct)}var e,r,i;return e=t,(r=[{key:"_initConfig",value:function(t){for(var e in ct)e in t&&(ct[e]=t[e]);var r=parseInt(ct.id,10);for(var i in r&&(/qq\.com$/gi.test(viola.pageData.url)&&(ct.url||(ct.url="//aegis.qq.com/badjs")),ct._reportUrl=(ct.url||"//aegis.qq.com/badjs")+"?id="+r+"&uin="+ct.uin+"&version="+ct.version+"&",ot("".concat(ct.url,"/").concat(r))),ct)this[i]=ct[i]}},{key:"_initOffline",value:function(){var t=this;return this.offlineDB=X(),this.offlineDB.ready(function(e,r){!e&&r&&setTimeout(function(){r.clearDB(t.offlineLogExp),setTimeout(function(){t.offlineLogAuto&&t._autoReportOffline()},5e3)},1e3)}),this}},{key:"listen",value:function(t){var e=this;this.listening||(viola.on("error",function(r){r=w(r);var i=e.handleNativeCallException(r.data);t&&t(r),i&&e.beforeReport({msg:i})&&e.monitor(34478223)}),viola.on("update",function(r){"error"===(r=w(r)).type&&(e.handleNativeCallException(r.data),t&&t(r))}),this.listening=!0)}},{key:"handleNativeCallException",value:function(t){try{if("string"==typeof t){var e={};return e.type="[onerror]".concat(t),e.value="[onerror]".concat(t),e.stacktrace={frames:[]},this._push({msg:e.value,target:null,rowNum:null,colNum:null,_orgMsg:e.value}),e.value}if(st){var r={},i=t.error.split("\n").filter(function(t){return!!t});r.stacktrace={frames:[]},r.type="[onerror]".concat(i[0]),r.value="[onerror]".concat(i[0]);var n=i.slice(0,4).join("<--");return this._push({msg:n,target:null,rowNum:null,colNum:null,_orgMsg:t.error}),n}var o={};return o.type="[onerror]".concat(t.error),o.value="[onerror]".concat(t.error),o.stacktrace={frames:[]},this._push({msg:o.value,target:null,rowNum:null,colNum:null,_orgMsg:o.value}),o.msg}catch(t){}}},{key:"_processLog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];at.length&&(this.log.processLog(at,t),at=[])}},{key:"_push",value:function(t,e){var r=g(t)?function(t){try{if(t.stack){var e=t.stack.match("https?://[^\n]+"),r=(e=e?e[0]:"").match(":(\\d+):(\\d+)");return r||(r=[0,0,0]),{msg:function(t){var e=t.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),r=t.toString();return e.indexOf(r)<0&&(e=r+"@"+e),e}(t),rowNum:r[1],colNum:r[2],target:e.replace(r[0],""),_orgMsg:t.toString()}}return t.name&&t.message&&t.description?{msg:JSON.stringify(t)}:t}catch(e){return t}}(t):{msg:t};if(this.ext&&!r.ext&&(r.ext=this.ext),r.from||(r.from=viola.pageData.url),r._orgMsg){delete r._orgMsg,r.level=2;var i=v({},r);i.level=4,i.msg=r.msg,at.push(r),at.push(i)}else at.push(r);return this._processLog(e),this}},{key:"report",value:function(t,e){return t&&this._push(t,e),this}},{key:"info",value:function(t){return t?(g(t)?t.level=2:t={msg:t,level:2},this._push(t),this):this}},{key:"debug",value:function(t){return t?(g(t)?t.level=1:t={msg:t,level:1},this._push(t),this):this}},{key:"addOfflineLog",value:function(t){return t?(this.isWhite&&this.info(t),g(t)?t.level=20:t={msg:t,level:20},this._push(t),this):this}},{key:"reportOfflineLog",value:function(t){var e=this;this.offlineDB.ready(function(r,i){if(!r&&i){var n=new Date-0-24*e.offlineLogExp*3600*1e3,o=new Date-0;i.getLogs({start:n,end:o,id:e.id,uin:e.uin},function(r,i,a,s){if(!r){var c={logs:i,msgObj:a.map(function(t){return e.appVersion&&!t.match(/^<[A-Za-z0-9]+>.*$/)?"[".concat(e.appVersion,"]").concat(t):t}),urlObj:s,startDate:n,endDate:o,secretKey:t};e.log.reportOffline(c)}})}})}},{key:"_autoReportOffline",value:function(){var t=this;nt.request({url:"https:".concat(this.url,"/mpOfflineAuto?id=").concat(this.id,"&uin=").concat(this.uin),method:"get"},function(e){if(200===e.code){var r=e.data;r.msg&&!1!==r.msg&&t.reportOfflineLog(r.msg)}})}},{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://report.url.cn/report/report_vm";if(void 0!==t&&""!==t){void 0===t.join&&(t=[t]);var r={monitors:"["+t.join(",")+"]",_:Math.random()};if(e){var i=e+(e.match(/\?/)?"&":"?")+function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}(r);nt.request({url:i,method:"GET",headers:{Referer:"https://viola.qq.com/channel/kd_now.js",Origin:"https://viola.qq.com"}})}}}},{key:"checkWhitelist",value:function(t){this.isWhite?t(!0):nt.request({url:"https://now.qq.com/cgi-bin/now/web/user/is_in_white_list",method:"get"},function(e){try{t(e.data.result.is_in_white_list)}catch(e){t(!1)}})}}])&&it(e.prototype,r),i&&it(e,i),t}();function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ft=viola.requireAPI("http"),ut=viola.requireAPI("bridge"),pt=viola.requireAPI("cache"),ht=new lt({id:361,uin:viola.pageData.uin,appVersion:"",offlineLog:!0,offlineLogAuto:!0,beforeReport:function(t){return!t.msg.match(/\[receive from native]: 无效 instanceId/)&&!t.msg.match(/receive@viola_main.js/)}}),mt=function(t){for(var e=[],r=0;r<8;r++)e.push({room_game_type:0,room_logo_url:"",anchor_logo_url:"",room_id:59643046,room_city:"",room_name:"",room_online_num:"",anchor_name:"",label_info:{wording:"",label_type:0}});return e}(),gt={name:"App",data:function(){return{isIOS:S.d,list:mt,current_item:{},pagination:{offset:0,current:1,num:18},isEnd:!1,showErrorPage:!1,enableClick:!0,refreshHook:function(){},aegis:ht}},components:{LoadingPage:z,errorPage:A.a,qmodal:a.a,RoomItemCard:$,qList:n.a},created:function(){var t=this;(new Date).getTime(),ut.invoke({ns:"device",method:"getDeviceInfo"},function(t){j.init(viola.pageData.uin,t.data),I.init(viola.pageData.uin,t.data),C({action:"channel_view",roomid:1})}),pt.getItem("nowCacheList",function(e){if(!(S.d&&"{}"===JSON.stringify(e)||!S.d&&"{}"===e))if("string"==typeof e)try{t.list=JSON.parse(e)}catch(e){t.list=[]}else"object"===dt(e)&&(t.list=e)}),ht.listen(),ht.addOfflineLog("enter the page"),viola.on("destroy",function(){ht.addOfflineLog("leave the page")}),ht.monitor(34478222)},mounted:function(){this.getRoomList(this.pagination,{force:!0})},computed:{invertWidth:function(){return 4},deviceWidth:function(){return ViolaEnv.deviceWidth},cardWidth:function(){return(this.deviceWidth-2*this.invertWidth-this.invertWidth)/2}},methods:{refreshHandler:function(t,e){ht.addOfflineLog("refresh data"),C({action:"channel_refresh"});var r={current:1,offset:0,num:18};this.isEnd=!1,this.pagination=r,this.getRoomList(r,{force:!0}).then(function(){ht.addOfflineLog("refresh success"),t()}).catch(function(t){t?ht.report("refresh error error: ".concat(JSON.stringify(t))):ht.addOfflineLog("refresh error error: http request error"),e()})},loadMoreHandler:function(t,e){var r=this;ht.addOfflineLog("load more data pagination: ".concat(JSON.stringify(this.pagination))),this.getRoomList(this.pagination).then(function(){ht.addOfflineLog("load more data success pagination: ".concat(JSON.stringify(r.pagination))),t()}).catch(function(t){t?ht.report("load more data failed error: ".concat(JSON.stringify(t))):ht.addOfflineLog("load more data failed error: http request error"),e()})},tabRefreshHandler:function(){},resetHandler:function(){},retry:function(){this.showErrorPage=!1,ht.addOfflineLog("retry fetch data"),this.getRoomList(this.pagination,{force:!0}).then(function(){ht.addOfflineLog("retry fetch data success")}).catch(function(t){t?ht.report("retry fetch data failed error: ".concat(JSON.stringify(t))):ht.addOfflineLog("retry fetch data failed error: http request error")})},requestDataTip:function(){ut.invoke({ns:"ui",method:"showTips",params:{text:"数据获取异常",iconMode:0}})},initHandler:function(t,e){this.refreshHook=e},getRoomList:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ht.monitor(34478224);var i={url:"https://kandian.qq.com/cgi-bin/kandianChannelFeeds/getChannelFeeds",method:"GET",data:{srcID:1,channelID:41669,pageCookies:JSON.stringify({Index:t.offset,Count:t.num,ClientType:S.d?16231:16232})},timeout:S.d?5:5e3},n=Object.assign({},t);return ht.addOfflineLog("[http sent] getRoomList params: ".concat(JSON.stringify(t))),new Promise(function(o,a){ft.request(i,function(i){if(ht.addOfflineLog("[http receive] getRoomList params: ".concat(JSON.stringify(t)," success, result: ").concat(i.data&&i.data.retcode)),!0==!!i.success&&i.data&&0===i.data.retcode){var s=i.data.result&&i.data.result.modules&&i.data.result.modules.length>0?i.data.result.modules:[];ht.addOfflineLog("[http receive] getRoomList params: ".concat(JSON.stringify(t)," success, list.length: ").concat(s.length)),s.length?(ht.monitor(34478225),s=s.map(function(t){try{var r=JSON.parse(t.moduleExtInfo.data);return r.isEnd&&(e.isEnd=!0),r.roomInfo}catch(t){return ht.report("[error] list parse error"),{}}}),e.processData(s,r),e.pagination={current:n.current+1,offset:n.num+n.offset,num:n.num},e.showErrorPage=!1):(ht.monitor(34478226),ht.report("[http response error] list.length:"+s.length),e.requestDataTip(),e.pagination={current:n.current,offset:n.offset,num:n.num},e.showErrorPage=!0),n=null,ht.addOfflineLog("[http request success]"),o()}else ht.addOfflineLog("[http request error] httpCode: ".concat(i.code," retcode: ").concat(i.data&&i.data.retcode," errorText: ").concat(i.errorText)),ht.addOfflineLog("[http request error] getRoomList params: ".concat(JSON.stringify(t)," httpCode: ").concat(i.code," retcode: ").concat(i.data&&i.data.retcode," errorText: ").concat(i.errorText)),ht.monitor(34478226),e.requestDataTip(),e.showErrorPage=!0,a()})})},processData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!==t.length)if(e.force)t.length%2!=0&&t.pop(),this.list=t,pt.setItem("nowCacheList",t);else{var r=this.roomIdUnique(this.list.concat(t));r.length%2!=0&&r.pop(),this.list=r}},roomIdUnique:function(t){var e={};return t=t.reduce(function(t,r){return r&&!e[r.room_id]&&(e[r.room_id]=!0,t.push(r)),t},[])},jumpItem:function(t,e){var r=this;if(this.enableClick){ht.addOfflineLog("[enter live room] roomId: ".concat(e.room_id," coverurl: ").concat(e.room_logo_url));var i=null;this.enableClick=!1;var n="mqqapi://now/openroom?src_type=app&version=1&first=2"+"&roomid=".concat(e.room_id)+"&roomtype=".concat(0)+"&first_jump_mode=plugin&source=1&referer_id=kandian_003&list_name=1_topicname_0_18"+"&fromid=".concat("kandian_003")+"&startsrc=".concat("kandian_003")+"&coverurl=".concat(e.room_logo_url);ut.invoke({ns:"schema",method:"jumpAction",params:{schema:n}},function(t){0===t.code?(ht.addOfflineLog("[enter live room success] roomId:"+e.room_id),i||(i=setTimeout(function(){r.enableClick=!0,i=null},500))):(ht.report("[enter live room failed] roomId:"+e.room_id),r.enableClick=!0)})}}}},vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"now-container"},[r("q-list",{staticClass:"list-container",attrs:{cacheKey:"channel_now",wordingLoadMoreLoading:"正在加载...",wordingLoadMoreEnding:"啊哦，我也是有底线的~",loadMoreTextColor:t.isIOS?"#737373":"#bbbbbb",hasLoadMoreIcon:!0,isEnd:t.isEnd,enableSafeBottom:!t.isIOS,cacheDuration:9e5,loadMoreBgColor:"#ffffff",preloadDistance:"600dp",loadMoreDelay:20},on:{refresh:t.refreshHandler,tabRefresh:t.tabRefreshHandler,loadMore:t.loadMoreHandler,reset:t.resetHandler,init:t.initHandler}},t._l(t.list,function(e,i){return r("cell",{key:e},[i<t.list.length&&i%2==0?r("div",{staticClass:"wrap",style:{paddingLeft:t.invertWidth+"dp",paddingRight:t.invertWidth+"dp",paddingTop:2*t.invertWidth+"dp"}},[r("RoomItemCard",{attrs:{"invert-width":t.invertWidth,item:t.list[i],index:i,aegis:t.aegis},on:{clickClose:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];t.feedback.apply(void 0,e.concat([i]))},clickWrap:t.jumpItem}}),i<t.list.length-1?r("RoomItemCard",{attrs:{"invert-width":t.invertWidth,index:i+1,item:t.list[i+1],aegis:t.aegis},on:{clickClose:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];t.feedback.apply(void 0,e.concat([i]))},clickWrap:t.jumpItem}}):t._e()],1):t._e()])})),t.showErrorPage?r("errorPage",{on:{pageClick:t.retry}}):t._e()],1)};vt._withStripped=!0;var yt=r(94),_t=Object(d.a)(gt,vt,[],!1,yt,null,null);_t.options.__file="src/pages/kd_now/index.vue";var bt=_t.exports;new Vue({el:"#app",components:{cmp:bt},render:function(t){return t(bt)}})},17:function(t,e){t.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=59)}({0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l="function"==typeof t?t.options:t;return e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId=o),l._stylesheet=n,{exports:t,options:l}}r.d(e,"a",function(){return i})},1:function(t,e,r){"use strict";e.a=function(t,e){t=t.split("."),e=e.split("."),t[2]="0."+t[2],e[2]="0."+e[2];for(var r=0;r<3;r++){if(parseFloat(t[r])>parseFloat(e[r]))return 1;if(parseFloat(t[r])<parseFloat(e[r]))return-1}return 0}},22:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_loading_85f3b0a6.png"},3:function(t,e,r){"use strict";var i=r(1);e.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,isSmallIOS:"ios"==ViolaEnv.platform.toLowerCase()&&ViolaEnv.deviceWidth<=320,isKuaibao:"qnreading"===ViolaEnv.appID||"2"===ViolaEnv.appID}},methods:{compareVersion:i.a}}},59:function(t,e,r){t.exports=r(93)},60:function(t,e){t.exports={"opacity-1":{style:{opacity:"1"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"opacity-0":{style:{opacity:"0"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},list:{style:{backgroundColor:"#f5f6f9"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"list-dark":{style:{backgroundColor:"#333333"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_background:{style:{position:"absolute",bottom:"0",left:"0",width:"100vw",height:"2000dp",backgroundColor:"#f5f6f9"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_background-dark":{style:{backgroundColor:"#333333"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_content:{style:{position:"relative",height:"50dp",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle_arrow:{style:{position:"absolute",left:"90dp",top:"9dp",width:"32dp",height:"32dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_idle_arrow-dark":{style:{left:"60dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle_text:{style:{color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_idle_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading_spinner:{style:{position:"absolute",left:"98dp",top:"17dp",width:"16dp",height:"16dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_loading_spinner-dark":{style:{left:"68dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading_text:{style:{color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_loading_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done_success:{style:{marginTop:"1dp",width:"16dp",height:"16dp",marginRight:"5dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done_text:{style:{marginTop:"2dp",color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_done_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer:{style:{height:"65dp",paddingBottom:"5dp",justifyContent:"center",alignItems:"center",flexDirection:"row"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_wrapper:{style:{position:"absolute",left:"0",right:"0",top:"5dp",bottom:"0",opacity:"0",flexDirection:"row",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_wrapper-show":{style:{opacity:"1"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer-common":{style:{height:"111dp",paddingBottom:"61dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer-iphoneX":{style:{height:"155dp",paddingBottom:"95dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_text:{style:{fontSize:"13dp",textAlign:"center",color:"#bbb"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_text-android":{style:{marginTop:"2dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_loading:{style:{marginRight:"7dp",width:"16dp",height:"16dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_loading-ios":{style:{transform:"scale(0.8)"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]}}},61:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_success_ios_04873df3.png"},62:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_arrow_down_54285430.png"},63:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_arrow_dark_95ee56ca.png"},93:function(t,e,r){"use strict";r.r(e);var i={methods:{onRefresh_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshTimer&&(clearTimeout(this.mRefreshTimer),this.mRefreshTimer=null),this.mRefreshStatus="refresh",this.$emit("refresh",this.finishRefresh.bind(this),this.errorRefresh.bind(this)))},onPulling_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshStatus="pulling"),this.$refs.arrow&&this.$refs.arrow.animate({transform:"rotate(180deg)",transformOrigin:"center center"},{duration:100}),this.$emit("pulling")},onIdle_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshStatus="idle"),this.$refs.arrow&&this.$refs.arrow.animate({transform:"rotate(0)",transformOrigin:"center center"},{duration:0}),this.$emit("idle")}}},n={mixins:[r(3).a,{methods:{onRefresh_iOS:function(){this._refreshStatus="refresh",this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:0},{duration:.001}),this.$emit("refresh",this.finishRefresh.bind(this),this.errorRefresh.bind(this))},onPulling_iOS:function(){this.$emit("pulling")},onIdle_iOS:function(){this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:0},{duration:.001}),this.$emit("idle")},showRefreshText_iOS:function(){this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:1},{duration:300})}}},i],name:"q-list",props:{showList:{default:!0},showLoadMore:{default:!0},preloadDistance:{default:"200dp"},loadMoreBgColor:{type:String,default:"#f7f7f7"},loadMoreTextColor:{type:String,default:"#bbbbbb"},wordingLoadMoreIdle:{default:"点击加载更多"},wordingLoadMoreLoading:{default:"努力加载中..."},wordingLoadMoreError:{default:"加载失败，点击重试"},wordingLoadMoreEnding:{default:"啊嘞，到底了~"},wordingRefreshLoading:{default:"正在刷新..."},wordingRefreshSuccess:{default:"已为您推荐新内容"},wordingRefreshError:{default:"刷新失败"},cacheKey:{require:!0,type:String},cacheDuration:{type:Number,default:9e5},loadMoreDelay:{type:Number,default:0},hasLoadMoreIcon:{type:Boolean,default:!1},isEnd:{type:Boolean,default:!1},enableSafeBottom:{type:Boolean,default:!1},enableRefresh:{type:Boolean,default:!0},enableLoadMore:{type:Boolean,default:!0},scrollMinOffset:{type:String|Number,default:"20dp"}},data:function(){return{gte800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0,mEnableDarkMode:!1,mIsTimeToShow:!1,mIsRetrying:!1,mRefreshTimer:null,mRefreshStatus:"idle",mLoadMoreStatus:"idle",mLastClickHeaderTimestamp:0,mNeedSpinnerRotating:!1,mCacheKey:"viola_channel_reset_time_"+(this.cacheKey||"common")}},watch:{isEnd:function(t){1==t&&(this.mNeedSpinnerRotating=!1),this.mLoadMoreStatus=1==t?"end":"end"==this.mLoadMoreStatus?"idle":this.mLoadMoreStatus}},created:function(){var t=this;this.mLoadMoreStatus=1==this.isEnd?"end":"end"==this.mLoadMoreStatus?"idle":this.mLoadMoreStatus,setTimeout(function(){t.mIsTimeToShow=!0},400)},mounted:function(){var t=this;this.isWeb||viola.on("update",function(e){(e=function(t){if(!t)return{};var e={};if("object"==typeof t)return t;try{e=JSON.parse(t)}catch(e){}return"string"==typeof e?{}:e}(e)).pageRefresh?t.refresh(e.pageRefresh.type):e.viewDidDisappear?t.disappearHandler():e.viewDidAppear&&t.appearHandler()}),this.initHandler(),this.bindClickToTop(),this.isAndroid&&!this.gte800&&setTimeout(function(){t.mEnableDarkMode=!0},400)},beforeDestroy:function(){this.disappearHandler(!0)},methods:{getRef:function(){return this.$refs.list},appearHandler:function(){var t=this;this.$emit("appear"),viola.requireAPI("cache").getItem(this.mCacheKey,function(e){Date.now()-e>=t.cacheDuration&&t.$emit("reset",!1,t.refreshHook.bind(t)),viola.requireAPI("cache").setItem(t.mCacheKey,""+Date.now())})},disappearHandler:function(t){this.$emit("disappear"),t&&this.isIOS||viola.requireAPI("cache").setItem(this.mCacheKey,""+Date.now())},initHandler:function(){var t=this;viola.requireAPI("cache").getItem(this.mCacheKey,function(e){var r=!1;"{}"!=e&&"object"!=typeof e||(e=0),Date.now()-e>=t.cacheDuration&&(r=!0),t.$emit("init",r,t.refreshHook.bind(t))})},refresh:function(t){this.$emit("tabRefresh",{type:t}),this.$refs.refresh&&this.$refs.refresh.refresh()},refreshHook:function(t){void 0===t&&(t=!1),this.$refs.refresh&&this.$refs.refresh.refresh(t)},errorRefresh:function(t){this.refreshWord=t||this.wordingRefreshError,this.mRefreshStatus="error",this.isIOS?this.showRefreshText_iOS():this.needShowTip=!0,this.resetRefresh(500)},finishRefresh:function(t){this.refreshWord=t||this.wordingRefreshSuccess,this.mRefreshStatus="success",this.isIOS?(this.showRefreshText_iOS(),this.resetRefresh(500)):this.resetRefresh(800)},resetRefresh:function(t){var e=this;void 0===t&&(t=0),this.mRefreshTimer=setTimeout(function(){e.mRefreshTimer=null,e.$refs.refresh&&e.$refs.refresh.refreshFinish()},t)},loadMore:function(t){var e=this;if(!this.enableLoadMore)return this.$refs.list.loadMoreFinish();if(!(this.mIsRetrying||this.fromClick&&"refresh"==this.mLoadMoreStatus)){if(!0===t&&(this.mIsRetrying=!0),"refresh"==this.mRefreshStatus&&!0!==t||this.isEnd)return this.mIsRetrying=!1,this.$refs.list.loadMoreFinish();this.mNeedSpinnerRotating=!0,this.mLoadMoreStatus="loading",!0===t?setTimeout(function(){e.mIsRetrying=!1,e.$emit("loadMore",e.finishLoadMore.bind(e),e.errorLoadMore.bind(e))},200):this.loadMoreDelay>0?setTimeout(function(){e.$emit("loadMore",e.finishLoadMore.bind(e),e.errorLoadMore.bind(e))},this.loadMoreDelay):this.$emit("loadMore",this.finishLoadMore.bind(this),this.errorLoadMore.bind(this))}},errorLoadMore:function(){var t=this;this.mLoadMoreStatus="error",this.mNeedSpinnerRotating=!1,setTimeout(function(){t.$refs.list&&t.$refs.list.loadMoreFinish()},500)},finishLoadMore:function(t){var e=this;setTimeout(function(){"end"!=e.mLoadMoreStatus&&(e.mNeedSpinnerRotating=!1,e.mLoadMoreStatus="idle"),e.$refs.list&&e.$refs.list.loadMoreFinish()},100)},scrollHandler:function(t){this.$emit("scroll",t)},scrollEndHandler:function(t){this.$emit("scrollEnd",t)},bindClickToTop:function(){var t=this;this.gte800&&!this.isWeb&&viola.requireAPI("bridge").invoke({ns:"ui",method:"violaTitleBarClick"},function(e){0==e.code&&(e.data.timestamp-t.mLastClickHeaderTimestamp<=500?(t.$refs.list&&t.$refs.list.scrollToTop(!0),t.mLastClickHeaderTimestamp=0):t.mLastClickHeaderTimestamp=e.data.timestamp)})}}},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showList?i("list",{ref:"list",class:{list:t.isAndroid&&t.gte800,"list-dark":t.mEnableDarkMode},attrs:{scrollMinOffset:t.scrollMinOffset,preloadDistance:t.preloadDistance},on:{loadMore:t.loadMore,scroll:t.scrollHandler,scrollEnd:t.scrollEndHandler}},[t.isIOS&&t.enableRefresh?i("qrefresh",{ref:"refresh",staticStyle:{alignItems:"center",justifyContent:"center"},on:{refresh:t.onRefresh_iOS,pulling:t.onPulling_iOS,idle:t.onIdle_iOS}},[i("div",{ref:"refreshText",staticStyle:{flex:"1",width:"750rt",backgroundColor:"#f6f6f6",flexDirection:"row",justifyContent:"center",alignItems:"center",opacity:"0"}},["success"==t.mRefreshStatus?i("image",{staticStyle:{width:"14dp",height:"14dp"},attrs:{src:r(61)}}):t._e(),i("text",{staticStyle:{marginLeft:"4dp",fontSize:"15dp",color:"#737373"}},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:"")+" "+t._s("error"==t.mRefreshStatus?t.wordingRefreshError:""))])])]):(t.isWeb||t.gte800)&&t.enableRefresh?i("refresh",{ref:"refresh",staticClass:"refresh",on:{refresh:t.onRefresh_both,pulling:t.onPulling_both,idle:t.onIdle_both}},[i("div",{staticClass:"refresh_background"}),i("div",{staticClass:"refresh_content"},[i("indicate-loading",{key:"indicate",staticClass:"refresh_loading_spinner",class:"refresh"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{stopAnimation:"refresh"!=t.mRefreshStatus}}),i("image",{key:"arrow",ref:"arrow",staticClass:"refresh_idle_arrow",class:"pulling"==t.mRefreshStatus||"idle"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:r(62)}}),"refresh"==t.mRefreshStatus?i("div",{staticClass:"refresh_loading"},[i("text",{staticClass:"refresh_loading_text"},[t._v(t._s(t.wordingRefreshLoading))])]):"success"==t.mRefreshStatus||"error"==t.mRefreshStatus?i("div",{staticClass:"refresh_done"},[i("text",{staticClass:"refresh_done_text"},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:t.wordingRefreshError))])]):i("div",{staticClass:"refresh_idle"},[i("text",{staticClass:"refresh_idle_text"},[t._v(t._s("idle"==t.mRefreshStatus?"下拉刷新":"释放立即刷新"))])])],1)]):t.enableRefresh?i("refresh",{ref:"refresh",staticClass:"refresh",on:{refresh:t.onRefresh_both,pulling:t.onPulling_both,idle:t.onIdle_both}},[i("div",{staticClass:"refresh_background refresh_background-dark"}),i("div",{staticClass:"refresh_content"},[i("image",{key:"loading",ref:"loading",staticClass:"refresh_loading_spinner refresh_loading_spinner-dark",class:"refresh"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:r(22)}}),i("image",{key:"arrow",ref:"arrow",staticClass:"refresh_idle_arrow refresh_idle_arrow-dark",class:"pulling"==t.mRefreshStatus||"idle"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:r(63)}}),"refresh"==t.mRefreshStatus?i("div",{staticClass:"refresh_loading"},[i("text",{staticClass:"refresh_loading_text refresh_loading_text-dark"},[t._v(t._s(t.wordingRefreshLoading))])]):"success"==t.mRefreshStatus||"error"==t.mRefreshStatus?i("div",{staticClass:"refresh_done"},[i("text",{staticClass:"refresh_done_text refresh_done_text-dark"},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:t.wordingLoadMoreError))])]):i("div",{staticClass:"refresh_idle"},[i("text",{staticClass:"refresh_idle_text refresh_idle_text-dark"},[t._v(t._s("idle"==t.mRefreshStatus?"下拉刷新":"释放立即刷新"))])])])]):t._e(),t._t("default"),t.showLoadMore&&t.enableLoadMore&&t.mIsTimeToShow?i("cell",[i("div",{staticClass:"footer",class:{"footer-common":t.gte800&&t.enableSafeBottom&&!t.isIphoneX,"footer-iphoneX":t.gte800&&t.enableSafeBottom&&t.isIOS&&t.isIphoneX},style:{backgroundColor:t.loadMoreBgColor},on:{click:function(e){e.stopPropagation(),t.loadMore(!0)}}},[i("div",{staticClass:"footer_wrapper",class:{"footer_wrapper-show":"loading"==t.mLoadMoreStatus}},[t.hasLoadMoreIcon&&(t.gte800||t.isWeb)?i("indicate-loading",{staticClass:"footer_loading",class:{"footer_loading-ios":t.isIOS},attrs:{stopAnimating:!t.mNeedSpinnerRotating}}):t.hasLoadMoreIcon?i("image",{staticClass:"footer_loading",attrs:{src:r(22)}}):t._e(),i("text",{staticClass:"footer_text",class:{"footer_text-android":t.isAndroid},style:{color:t.loadMoreTextColor},attrs:{value:t.wordingLoadMoreLoading}})],1),i("div",{staticClass:"footer_wrapper",class:{"footer_wrapper-show":"loading"!=t.mLoadMoreStatus}},[i("text",{staticClass:"footer_text",class:{"footer_text-android":t.isAndroid},style:{color:t.loadMoreTextColor}},[t._v(t._s("idle"==t.mLoadMoreStatus?t.wordingLoadMoreIdle:"")+" "+t._s("end"==t.mLoadMoreStatus?t.wordingLoadMoreEnding:"")+" "+t._s("error"==t.mLoadMoreStatus?t.wordingLoadMoreError:""))])])])]):t._e()],2):t._e()};o._withStripped=!0;var a=r(0),s=r(60),c=Object(a.a)(n,o,[],!1,s,"data-v-534c8718",null);c.options.__file="src/component/qlist/qlist.vue";var l=c.exports;e.default=l}})},18:function(t,e,r){"use strict";var i={props:{text:{type:String,default:"网络异常，请稍后再试_(:3」∠)_"}},methods:{click:function(t){this.$emit("pageClick",t)}}},n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"error-page",on:{click:function(e){return e.stopPropagation(),t.click(e)}}},[r("image",{staticClass:"error-logo",attrs:{resize:"cover",src:"http://sqimg.qq.com/qq_product_operations/kan/images/error_7_5.png"}}),r("text",{staticClass:"error-wording"},[t._v(t._s(t.text))])])};n._withStripped=!0;var o=r(1),a=r(25),s=Object(o.a)(i,n,[],!1,a,"data-v-4196e096",null);s.options.__file="src/component/Error/errorPage.vue";e.a=s.exports},21:function(t,e,r){},25:function(t,e){t.exports={"error-page":{style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0",backgroundColor:"#ffffff",flexDirection:"column",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]},"error-logo":{style:{width:"100dp",height:"100dp"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]},"error-wording":{style:{marginTop:"20dp",color:"#BBBBBB",fontSize:"16dp",textAlign:"center"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]}}},26:function(t,e){t.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=58)}({0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l="function"==typeof t?t.options:t;return e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId=o),l._stylesheet=n,{exports:t,options:l}}r.d(e,"a",function(){return i})},1:function(t,e,r){"use strict";e.a=function(t,e){t=t.split("."),e=e.split("."),t[2]="0."+t[2],e[2]="0."+e[2];for(var r=0;r<3;r++){if(parseFloat(t[r])>parseFloat(e[r]))return 1;if(parseFloat(t[r])<parseFloat(e[r]))return-1}return 0}},10:function(t,e){t.exports={wrap:{style:{backgroundColor:"#f6f7fa",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-9356b858",state:{},attrs:{},children:[]},"wrap-holder":{style:{width:"40dp",height:"38dp"},scoped_id:"data-v-9356b858",state:{},attrs:{},children:[]},"wrap-img":{style:{position:"absolute",top:"0",left:"0"},scoped_id:"data-v-9356b858",state:{},attrs:{},children:[]}}},11:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/kb_holder_fa8dbba1.png"},2:function(t,e,r){"use strict";function i(t,e){return void 0===e&&(e=!0),"string"!=typeof t?t:"Web"==ViolaEnv.platform?t.replace(/([+-]?\d+(?:.\d*)?)dp/g,function(t,r){return r/(.5*window.VAEnvironment.rootValue)*window.VAEnvironment.rem+(e?"px":"")}):parseFloat(t)*ViolaEnv.dpToPxRatio+(e?"px":"")}function n(t,e){return void 0===e&&(e=!0),"string"!=typeof t?t:"Web"==ViolaEnv.platform?t.replace(/([+-]?\d+(?:.\d*)?)vw/g,function(t,r){return r/10*window.viola.config.env.rem+(e?"px":"")}):parseFloat(t)*(ViolaEnv.deviceWidth/100)*ViolaEnv.dpToPxRatio+(e?"px":"")}function o(t,e){return void 0===e&&(e=!0),"Web"==ViolaEnv.platform?(t="string"==typeof t?t:t+"rt").replace(/([+-]?\d+(?:.\d*)?)rt/,function(t,e){return e/750*10+"rem"}):parseFloat(t)*(ViolaEnv.deviceWidth/750)*ViolaEnv.dpToPxRatio+(e?"px":"")}function a(t,e){void 0===e&&(e=!0),t="string"==typeof t?rs.replace("rt",""):t;var r=parseFloat(t)*(ViolaEnv.deviceWidth/750);return e?r:r+(e?"dp":"")}function s(t,e){return void 0===e&&(e=!0),"number"==typeof t||t.indexOf("rt")>=0||!/[a-zA-z]/.test(t)?o(t,e):t.indexOf("vw")>=0?n(t,e):t.indexOf("dp")>=0?i(t,e):parseFloat(t)+(e?"px":"")}r.d(e,"b",function(){return i}),r.d(e,"e",function(){return n}),r.d(e,"d",function(){return o}),r.d(e,"c",function(){return a}),r.d(e,"a",function(){return s})},3:function(t,e,r){"use strict";var i=r(1);e.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,isSmallIOS:"ios"==ViolaEnv.platform.toLowerCase()&&ViolaEnv.deviceWidth<=320,isKuaibao:"qnreading"===ViolaEnv.appID||"2"===ViolaEnv.appID}},methods:{compareVersion:i.a}}},5:function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return a});var i=r(2);function n(t,e,r){var i=0,n=0,o=0,a=t/e;return a<.455?(i=367.875,n=491.25,o=1):a>=.455&&a<=.74516129?(i=367.875,n=491.25):a>.74516129&&a<=1?(i=491.25,n=491.25):a>1&&a<1.34199134?(i=491.25,n=491.25):a>=1.34199134&&a<=2.2?(i=491.25,n=367.875):a>2.2&&(i=491.25,n=367.875,o=1),1==r?i:2==r?n:3==r?o:void 0}function o(t,e){return t?(t&&-1!==t.search("qpic.cn/qq_public")&&(t=t.replace(/\/\d+($|\?)/i,"/"+e+"$1")),t):""}function a(t,e,r){if(!t||-1==t.search("qpic.cn/qq_public"))return t;var n=[180,200,320,600,900];e=3*Object(i.a)(e,!1),r=3*Object(i.a)(r,!1);for(var a=0;a<n.length;a++)if(e-20<=n[a]){t=o(t,n[a]);break}var s=[.62105,.83158,.93684,1,1.1049,1.11579,1.24476,1.25263,1.30526,1.66434,1.67368,1.80723,1.88421,2.5035,2.51579],c=["59_95","79_95","89_95","280_280","158_143","212_190","178_143","119_95","248_190","238_143","159_95","750_415","179_95","358_143","239_95"],l=[.5625,.75,1,1.33333,1.77777],d=["90_160","30_40","280_280","40_30","160_90"];if(-1==t.search("_open")&&-1==t.search("_vsmcut")||-1!=t.search("_open_")||-1!=t.search("_vsmcut_"))return t;var f,u=e/r;if(-1!=t.search("_open")){u<s[0]&&(f=c[0]),u>s[s.length-1]&&(f=c[c.length-1]);for(var p=0;p<s.length-1;p++)if(u>=s[p]&&u<s[p+1]){f=u-s[p]<s[p+1]-u?c[p]:c[p+1];break}return t.replace("_open","_open_"+f)}u<l[0]&&(f=d[0]),u>l[l.length-1]&&(f=d[d.length-1]);for(var h=0;h<l.length-1;h++)if(u>=l[h]&&u<l[h+1]){f=u-l[h]<l[h+1]-u?d[h]:d[h+1];break}return t.replace("_vsmcut","_vsmcut_"+f)}},58:function(t,e,r){t.exports=r(7)},6:function(t,e,r){"use strict";var i=r(3),n=r(5),o={inject:["srcID"],mixins:[i.a],props:{src:{require:!0,type:String},resize:{default:"stretch",type:String},autosize:{default:"none",type:String},imageStyle:{type:Object},showHolder:{type:Boolean,default:!0},visible:{type:Boolean,default:!1}},data:function(){return{finish:!1}},computed:{isGIF:function(){return this.src.indexOf("fmt=gif")>=0},autoClipSrc:function(){return Object(n.a)(this.src,this.imageStyle.width,this.imageStyle.height)},imgStyle:function(){return this.imageStyle.backgroundColor||!this.finish?this.imageStyle:Object.assign({},this.imageStyle,{backgroundColor:"transparent"})}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{clickWrap:function(t){this.$emit("clickWrap",t)},onFinish:function(t){t.success&&(this.finish=!0)}}},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap",style:t.imgStyle,on:{click:function(e){t.clickWrap(e,t.item)}}},[2==t.srcID&&t.showHolder?i("image",{staticClass:"wrap-holder",attrs:{src:r(11),resize:"cover"}}):t._e(),t.isGIF?i("image",{staticClass:"wrap-img",style:t.imgStyle,attrs:{src:t.autoClipSrc,resize:t.resize,autosize:t.autosize}}):t._e(),t.isGIF&&t.visible?i("gif",{staticClass:"wrap-img",style:t.imgStyle,attrs:{src:t.src,resize:t.resize,autosize:t.autosize,play:1},on:{finish:t.onFinish}}):i("image",{staticClass:"wrap-img",style:t.imgStyle,attrs:{src:t.autoClipSrc,resize:t.resize,autosize:t.autosize},on:{finish:t.onFinish}})],1)};a._withStripped=!0;var s=r(0),c=r(10),l=Object(s.a)(o,a,[],!1,c,"data-v-9356b858",null);l.options.__file="src/component/qImage/qImage.vue",e.a=l.exports},7:function(t,e,r){"use strict";r.r(e);var i=r(6);e.default=i.a}})},3:function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"b",function(){return o});var i=r(0),n="ui";function o(t){var e=t.title;"string"==typeof e&&Object(i.c)(n,"setTitle",{title:e})}function a(t){var e=t.url,r=t.param;void 0===r&&(r={}),"string"==typeof e&&Object(i.c)(n,"openUrl",{url:e,param:r})}},31:function(t,e){t.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=64)}({0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l="function"==typeof t?t.options:t;return e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId=o),l._stylesheet=n,{exports:t,options:l}}r.d(e,"a",function(){return i})},17:function(t,e,r){"use strict";r.r(e),r(9);var i={data:function(){return{deviceHeight:ViolaEnv.deviceHeight,deviceWidth:ViolaEnv.deviceWidth,modalTop:300,modalBottom:0,modalLeft:35,radio:ViolaEnv.deviceWidth/375,modalTransformOrigin:"right bottom",jubaoBackColor:"white",transformOrigin:"right top",relativePosition:"",modelHeight:100}},props:{forceRelativePosition:{type:String},duration:{type:Number,default:200},topOffset:{type:String,default:"0dp"},bottomOffset:{type:String,default:"0dp"},position:{type:String,default:"right"},fixTop:{type:String},contentHeight:{type:Number}},computed:{computedStyle:function(){return this.forceRelativePosition?this.fixTop?{width:this.deviceWidth+"dp",top:this.fixTop+"dp"}:"bottom"===this.forceRelativePosition?{width:this.deviceWidth+"dp",top:this.modalTop+"dp"}:{width:this.deviceWidth+"dp",bottom:this.modalBottom+"dp"}:this.relativePosition?this.fixTop?{width:this.deviceWidth+"dp",top:this.fixTop+"dp"}:"bottom"===this.relativePosition?{width:this.deviceWidth+"dp",top:this.modalTop+"dp"}:{width:this.deviceWidth+"dp",bottom:this.modalBottom+"dp"}:{}},ifTran:function(){return"none"!==this.position}},methods:{getTransPosition:function(t){return"center"===this.position?"center center":this.position+" "+t},hideModalCompat:function(){this.$refs.modalCompat.animate({transform:"translateX(0)",transformOrigin:this.transformOrigin},{duration:1},function(){})},toHideModal:function(){this.hideModal()},hideModal:function(){var t=this,e=this.$refs.modal;if(e){this.$refs.ref_mask.animate({opacity:0},{duration:this.duration},function(){});var r=this.ifTran?{transform:"scale(0,0)",opacity:0}:{opacity:0};this.$refs.ref_content.animate(r,{duration:this.duration},function(){e.hide(),t.$emit("hide")})}},toShowModal:function(t,e){this.showModal(e)},showModal:function(t){var e=this,r=this,i=r.$refs.ref_content;i&&i.getScreenPosition(function(i){var n=i.screen,o=e.contentHeight||i.position.height;n.height-(t.y+t.height)<o?(e.$emit("updateDirection","up"),r.modalBottom=(n.height-t.y)/2*e.radio,r.modalTop=(t.y-o)/2*e.radio+Number(e.topOffset.replace("dp","")),r.modalTransformOrigin=e.getTransPosition("bottom"),r.relativePosition="top"):(e.$emit("updateDirection","down"),r.relativePosition="bottom",r.modalBottom=(n.height-t.y)/2*e.radio,r.modalTop=(t.y+t.height)/2*e.radio-Number(e.bottomOffset.replace("dp","")),r.modalTransformOrigin=e.getTransPosition("top")),setTimeout(function(){r._showModalAni()},16)})},_showModalAni:function(){var t=this,e=this,r=this.$refs.modal;r&&this.$refs.ref_content.animate({transform:"scale(1,1)",opacity:0},{duration:1},function(){var i=function(){r.show(),e.$refs.ref_mask.animate({opacity:.5},{duration:e.duration,needLayout:!0},function(){});var i=t.ifTran?{transform:"scale(1,1)",opacity:1,transformOrigin:e.modalTransformOrigin}:{opacity:1};e.$refs.ref_content.animate(i,{duration:e.duration,needLayout:!0,timing:"linear"},function(){})};t.ifTran?e.$refs.ref_content.animate({transform:"scale(0,0)",transformOrigin:e.modalTransformOrigin},{duration:1},function(){i()}):i()})}}},n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal",{ref:"modal",staticStyle:{backgroundColor:"transparent"},on:{click:function(e){return e.stopPropagation(),t.toHideModal(e)}}},[r("div",{ref:"ref_mask",staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",backgroundColor:"black",opacity:"0"}}),r("div",{ref:"ref_content",staticClass:"modal",style:t.computedStyle,on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])};n._withStripped=!0;var o=r(0),a=r(18),s=Object(o.a)(i,n,[],!1,a,"data-v-b5a8c0d8",null);s.options.__file="src/component/qmodal/qmodal.vue";var c=s.exports;e.default=c},18:function(t,e){t.exports={"modal-compat-container":{style:{position:"absolute",top:"0",bottom:"0",width:"750rt",left:"750rt",zIndex:"9997"},scoped_id:"data-v-b5a8c0d8",state:{},attrs:{},children:[]},"modal-mask":{style:{zIndex:"9998",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",opacity:"0",backgroundColor:"black"},scoped_id:"data-v-b5a8c0d8",state:{},attrs:{},children:[]},modal:{style:{zIndex:"9999",position:"absolute",opacity:"0"},scoped_id:"data-v-b5a8c0d8",state:{},attrs:{},children:[]}}},64:function(t,e,r){t.exports=r(17)},9:function(t,e,r){"use strict";viola.requireAPI("bridge");var i="undefined"!=typeof ViolaEnv&&"iOS"===ViolaEnv.platform;"undefined"!=typeof ViolaEnv&&ViolaEnv.platform,"undefined"!=typeof ViolaEnv&&ViolaEnv.platform,function(){var t=viola.pageData.url.split("?")[1];t?t.split("&").reduce(function(t,e){if(e){var r=e.split("=");t[r[0]]=r[1]}return t},Object.create(null)):Object.create(null)}(),viola.pageData.param||Object.create(null);var n=[];viola.on("destroy",function(){n.length=0}),r.d(e,"a",function(){return i})}})},4:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r(0),n="data";function o(){return Object(i.b)(n,"getUserInfo")}},5:function(t,e,r){"use strict";function i(t){return new Promise(function(e,r){viola.requireAPI("http").request(t,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?e(t.data):r(t.errorText)})})}function n(t,e){if(void 0===e&&(e={}),!t)throw TypeError("http Get require URL");return new Promise(function(r,i){viola.requireAPI("http").requestGet(t,e,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?r(t.data):i(t.errorText)})})}function o(t,e){if(void 0===e&&(e={}),!t)throw TypeError("http Get require URL");return new Promise(function(r,i){viola.requireAPI("http").requestPost(t,e,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?r(t.data):i(t.errorText)})})}r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o})},94:function(t,e){t.exports={wrap:{style:{flexDirection:"row",justifyContent:"space-between"},scoped_id:"",state:{},attrs:{},children:[]}}},95:function(t,e){t.exports={"image-container":{style:{position:"relative"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},picture:{style:{backgroundColor:"#d9d9d9"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},video_mask:{style:{position:"absolute",bottom:"0",left:"0"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"renqi-content":{style:{position:"absolute",flexDirection:"row",alignItems:"center",bottom:"10dp",right:"4dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"online-num":{style:{fontSize:"3vw",color:"white"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"icon-renqi":{style:{display:"inline-block",width:"3vw",height:"3vw",marginRight:"2dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"room-title":{style:{position:"absolute",top:"6dp",left:"6dp",fontSize:"3.8vw",fontWeight:"500",color:"white",textOverflow:"ellipsis",lines:"1"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"room-tag":{style:{position:"absolute",left:"0",bottom:"10dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},attention:{style:{marginLeft:"4dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"content-wrap":{style:{flexDirection:"row",position:"relative",backgroundColor:"white",paddingTop:"6dp",paddingBottom:"6dp",fontSize:"14dp",alignItems:"center",paddingLeft:"3dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"anchor-name":{style:{marginRight:"3dp",lines:"1",textOverflow:"ellipsis"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"anchor-city":{style:{lines:"1",marginLeft:"3dp"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]},"top-mask":{style:{position:"absolute",top:"0",left:"0"},scoped_id:"data-v-189792c8",state:{},attrs:{},children:[]}}},96:function(t,e){t.exports={"normal-tag":{style:{borderTopRightRadius:"2dp",borderBottomRightRadius:"2dp",position:"relative"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"tag-bg-img":{style:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"icon-text":{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"tag-context":{style:{color:"white",fontSize:"3vw",padding:"4dp",lines:"1",textOverflow:"ellipsis"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"tag-img":{style:{width:"3vw",height:"3vw"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"attention-tag":{style:{marginLeft:"2dp",borderRadius:"10dp",backgroundColor:"rgba(0, 0, 0, 0.3)"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]},"tag-text":{style:{padding:"4dp",color:"white"},scoped_id:"data-v-69b5285e",state:{},attrs:{},children:[]}}},97:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/icon-renqi.png"},98:function(t,e){t.exports={"loading-container":{style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#ffffff"},scoped_id:"data-v-3020cdfd",state:{},attrs:{},children:[]},loading:{style:{width:"16dp",height:"16dp"},scoped_id:"data-v-3020cdfd",state:{},attrs:{},children:[]},"loading-ios":{style:{transform:"scale(0.8)"},scoped_id:"data-v-3020cdfd",state:{},attrs:{},children:[]}}},99:function(t,e,r){"use strict";var i=r(100);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function n(t,e){if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0}function o(t){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=r(101),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===function(){}.name;function d(t){return Object.prototype.toString.call(t)}function f(t){return!o(t)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var u=t.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function h(t){if(a.isFunction(t)){if(l)return t.name;var e=t.toString().match(p);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(l||!a.isFunction(t))return a.inspect(t);var e=h(t);return"[Function"+(e?": "+e:"")+"]"}function v(t,e,r,i,n){throw new u.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:n})}function y(t,e){t||v(t,!0,e,"==",u.ok)}function _(t,e,r,i){if(t===e)return!0;if(o(t)&&o(e))return 0===n(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&d(t)===d(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,r,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var n=b(t),o=b(e);if(n&&!o||!n&&o)return!1;if(n)return t=c.call(t),e=c.call(e),_(t,e,r);var s,l,d=O(t),f=O(e);if(d.length!==f.length)return!1;for(d.sort(),f.sort(),l=d.length-1;l>=0;l--)if(d[l]!==f[l])return!1;for(l=d.length-1;l>=0;l--)if(s=d[l],!_(t[s],e[s],r,i))return!1;return!0}(t,e,r,i))}return r?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,r,i){var n;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(i=r,r=null),n=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(r&&r.name?" ("+r.name+").":".")+(i?" "+i:"."),t&&!n&&v(n,r,"Missing expected exception"+i);var o="string"==typeof i,s=!t&&a.isError(n),c=!t&&n&&!r;if((s&&o&&w(n,r)||c)&&v(n,r,"Got unwanted exception"+i),t&&n&&r&&!w(n,r)||!t&&n)throw n}u.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=m(g((e=this).actual),128)+" "+e.operator+" "+m(g(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var i=new Error;if(i.stack){var n=i.stack,o=h(r),a=n.indexOf("\n"+o);if(a>=0){var s=n.indexOf("\n",a+1);n=n.substring(s+1)}this.stack=n}}},a.inherits(u.AssertionError,Error),u.fail=v,u.ok=y,u.equal=function(t,e,r){t!=e&&v(t,e,r,"==",u.equal)},u.notEqual=function(t,e,r){t==e&&v(t,e,r,"!=",u.notEqual)},u.deepEqual=function(t,e,r){_(t,e,!1)||v(t,e,r,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(t,e,r){_(t,e,!0)||v(t,e,r,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(t,e,r){_(t,e,!1)&&v(t,e,r,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function t(e,r,i){_(e,r,!0)&&v(e,r,i,"notDeepStrictEqual",t)},u.strictEqual=function(t,e,r){t!==e&&v(t,e,r,"===",u.strictEqual)},u.notStrictEqual=function(t,e,r){t===e&&v(t,e,r,"!==",u.notStrictEqual)},u.throws=function(t,e,r){S(!0,t,e,r)},u.doesNotThrow=function(t,e,r){S(!1,t,e,r)},u.ifError=function(t){if(t)throw t},u.strict=i(function t(e,r){e||v(e,!0,r,"==",t)},u,{equal:u.strictEqual,deepEqual:u.deepStrictEqual,notEqual:u.notStrictEqual,notDeepEqual:u.notDeepStrictEqual}),u.strict.strict=u.strict;var O=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}});