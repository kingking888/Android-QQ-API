!function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=128)}({0:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"c",function(){return n});var r=viola.requireAPI("bridge"),o=function(t){return 0===t.code};function n(t,e,i){var o={ns:t,method:e};i&&(o.params=i),r.invoke(o)}function a(t,e,i){return new Promise(function(n,a){var s={ns:t,method:e};i&&(s.params=i),r.invoke(s,function(i){i&&o(i)?n(i.data):a("\n        [ Error ]\n          ns: "+t+"\n          method: "+e+"\n          message: "+i.errorText+"\n        ")})})}e.a=r},1:function(t,e,i){"use strict";function r(t,e,i,r,o,n,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var d="function"==typeof t?t.options:t;return e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId=n),d._stylesheet=o,{exports:t,options:d}}i.d(e,"a",function(){return r})},10:function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){if(!t)return{};var e={};if("object"===r(t))return t;try{e=JSON.parse(t)}catch(t){}return"string"==typeof e?{}:e}i.d(e,"a",function(){return o})},11:function(t,e,i){"use strict";var r=i(0);i(4);var o="undefined"!=typeof ViolaEnv&&"iOS"===ViolaEnv.platform,n="undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform,a=("undefined"!=typeof ViolaEnv&&ViolaEnv.platform,function(){var t=viola.pageData.url.split("?")[1];t?t.split("&").reduce(function(t,e){if(e){var i=e.split("=");t[i[0]]=i[1]}return t},Object.create(null)):Object.create(null)}(),viola.pageData.param||Object.create(null),function(t,e,i){i?r.a.invoke({ns:"event",method:t,params:e},i):r.a.invoke({ns:"event",method:t,params:e})}),s=[],c=function(t){return s.indexOf(t)},d=function(t){return s._init||(s._init=1,viola.on("destroy",function(){s.length=0})),function(t){return-1!==s.indexOf(t)}(t)?c(t):s.push(t)-1};function l(t,e){var i=d(e);return a("addEventListener",{identifier:""+i,eventName:t},function(t){if(0!==t.code)throw new TypeError("[addEventListener]: "+t.errorText);s[i]&&s[i](t.data)}),i}var f=i(5),p=i(3);i.d(e,"c",function(){return n}),i.d(e,"d",function(){return o}),i.d(e,"e",function(){return l}),i.d(e,"a",function(){return f.a}),i.d(e,"b",function(){return f.b}),i.d(e,"f",function(){return p.a}),i.d(e,"g",function(){return p.b})},12:function(t,e){t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){"use strict";function r(t){void 0===t&&(t={}),t.url&&(t.url.indexOf("https:")<0&&(t.url="https:"+t.url),viola.requireAPI("http").request({url:t.url,method:"get",headers:{Referer:t.headers.Referer||"https://kandian.qq.com/kandian/viola_test.html",Origin:t.headers.Origin||"https://kandian.qq.com"},data:{}},function(e){t.callback&&t.callback(e)}))}i.d(e,"a",function(){return r})},function(t,e,i){"use strict";function r(t){if(!t)return{};var e={};if("object"==typeof t)return t;try{e=JSON.parse(t)}catch(t){}return"string"==typeof e?{}:e}function o(t,e){var i,r,o;if(void 0===e&&(e=""),!e)return"";o=(i=e.match(/\?[^#]+/))?i[0]:"",i=o.match(new RegExp("(?:\\?|&)"+t+"=([^&]*)(&|$)"));try{r=i?decodeURIComponent(i[1]):""}catch(t){r=""}return String(r)}i.r(e);var n=viola.requireAPI("http"),a=("undefined"!=typeof ViolaEnv&&ViolaEnv.platform,"undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform),s=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,c="source protocol user pass host port path".split(" "),d=function(t){void 0===t&&(t={}),this._globalOptions={},this.listening=!1,this.beginTime=Date.now(),t.dsn&&this.setDSN(t.dsn),this.globalConfig(t)};d.prototype.globalConfig=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},d.prototype.config=function(t,e){void 0===e&&(e={}),this.setDSN(t),this.globalConfig(e)},d.prototype.stop=function(){this.stopReport=!0},d.prototype.restart=function(){this.stopReport=!1},d.prototype.judgeReport=function(){return!this.stopReport&&(!this.sampleRate||Math.random()<this.sampleRate)},d.prototype._getGlobalServer=function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},d.prototype._parseDSN=function(t){var e=s.exec(t),i={},r=7;try{for(;r--;)i[c[r]]=e[r]||""}catch(t){return null}return i.pass&&!this._globalOptions.allowSecretKey?null:i},d.prototype.setDSN=function(t){var e=this._parseDSN(t),i=e.path.lastIndexOf("/"),r=e.path.substr(1,i);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(i+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/";var o,n={sentry_version:"7",sentry_client:"raven-js/3.27.0",sentry_key:this._globalKey};this._globalSecret&&(n.sentry_secret=this._globalSecret),this._globalUrl=this._globalEndpoint+"?"+(o=[],function(t,e){var i,r;if(void 0===t.length)for(i in t)t.hasOwnProperty(i)&&e.call(null,i,t[i]);else if(r=t.length)for(i=0;i<r;i++)e.call(null,i,t[i])}(n,function(t,e){o.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),o.join("&"))},d.prototype.listen=function(t){var e=this;this.listening||(viola.on("error",function(i){i=r(i),e.handleNativeCallException(i.data),t&&t(i)}),viola.on("update",function(i){"error"===(i=r(i)).type&&(e.handleNativeCallException(i.data),t&&t(i))}),this.listening=!0)},d.prototype.handleNativeCallException=function(t){try{if("string"==typeof t){var e={};e.type="[onerror]"+t,e.value="[onerror]"+t,e.stacktrace={frames:[]},this.report(e,{from:"onerror"})}else if(a){var i={},r={},o=t.error.split("\n").filter(function(t){return!!t}),n=/(^.*?)\:([0-9]+)\:([0-9]+)$/i,s=/viola_main\.js/;i.stacktrace={frames:[]},i.type="[onerror]"+o[0],i.value="[onerror]"+o[0];for(var c=0;c<o.length;c+=1){var d,l=o[c],f=n.exec(l);d=f&&f.length?{filename:s.test(f[1])?"http://sqimg.qq.com/qq_product_operations/kan/violaLibs/Viola.min.0.3.10.js":viola.pageData.url,function:f[1],lineno:f[2],colno:f[3]}:{filename:s.test(l+"")?"http://sqimg.qq.com/qq_product_operations/kan/violaLibs/Viola.min.0.3.10.js":viola.pageData.url,function:l+""},i.stacktrace.frames.push(d)}t.tags&&(r=t.tags),this.report(i,{from:"onerror",tags:r})}else{var p={},h={};p.type="[onerror]"+t.error,p.value="[onerror]"+t.error,p.stacktrace={frames:[]},t.tags&&(h=t.tags),this.report(p,{from:"onerror",tags:h})}}catch(t){}},d.prototype.captureException=function(t,e){if(void 0===e&&(e={}),t){if("string"==typeof t)return this.handleNativeCallException(t);var i=this.createReportValue(e);i.type="[catched][js_error]_line_"+t.line+"_column_"+t.column+" "+i.type,i.value="[catched][js_error]_line_"+t.line+"_column_"+t.column+" "+i.value,i.stacktrace.frames.unshift({filename:viola.pageData.url,function:"This is a js error catched by the developer",lineno:t.line,colno:t.column}),this.report(i,{tags:e.tags})}},d.prototype.createReportValue=function(t){void 0===t&&(t={});var e={};if(e.type=t.type,e.value=t.value,e.stacktrace={frames:[]},t.frames&&t.frames instanceof Array)for(var i=0;i<t.frames.length;i+=1){var r=t.frames[i];e.stacktrace.frames.push({filename:r.filename||viola.pageData.url,function:r.function||r.content,lineno:r.lineno,colno:r.colno})}return e},d.prototype.userReport=function(t){void 0===t&&(t={});var e=this.createReportValue(t);this.report(e,{tags:t.tags})},d.prototype.report=function(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),this.judgeReport()&&this._globalUrl){var i=o("v_tid",viola.pageData.url)+"_"+o("v_bundleName",viola.pageData.url),r={project:"2",logger:"javascript",platform:"javascript",tags:{appVersion:ViolaEnv.appVersion,appName:ViolaEnv.appName,osVersion:ViolaEnv.osVersion,violaVersion:ViolaEnv.violaVersion,isDebug:ViolaEnv.isDebug,uin:viola.pageData.uin,business:i,platform:ViolaEnv.platform},request:{url:viola.pageData.url},exception:{values:[t]},transaction:viola.pageData.url,extra:{"session:duration":this.beginTime?Date.now()-this.beginTime:0},event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})};"onerror"===e.from&&(r.exception.mechanism={type:"onerror",handled:!1}),e.tags&&"object"==typeof e.tags&&(r.tags=Object.assign({},r.tags,e.tags)),n.request({url:this._globalUrl,method:"post",headers:{"Content-Type":"application/json"},data:r},function(t){})}};var l=d;i.d(e,"default",function(){return l})},function(t,e,i){"use strict";i.r(e);var r=i(0);"function"!=typeof Object.assign&&(Object.assign=function(t){var e=arguments;if(!t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var i=1;i<arguments.length;i++){var r=e[i];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t});var o={baseURL:"//report.huatuo.qq.com/report.cgi?"},n=function(t){void 0===t&&(t={}),this.config=this.config.bind(this),this.configHeaders=this.configHeaders.bind(this),this.getHeaders=this.getHeaders.bind(this),this.getBaseParams=this.getBaseParams.bind(this),this.transToURL=this.transToURL.bind(this),this.config(t)};n.prototype.transToURL=function(t,e){if(void 0===e&&(e={}),t){var i={apn:e.apn||t.apn,appid:e.appid||t.appid,platform:e.platform||e.platform||"undefined"!=typeof ViolaEnv&&ViolaEnv&&"iOS"===ViolaEnv.platform?"ios":"android",speedparams:{flag1:t.flag1,flag2:t.flag2,flag3:t.flag3},t:Date.now()};return Object.assign(i.speedparams,t.timingObj),o.baseURL+function t(e){var i,r=[];if("object"!=typeof e)return encodeURIComponent(String(e));for(i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&r.push(encodeURIComponent(String(i))+"="+encodeURIComponent(t(e[i])));return r.join("&")}(i)}},n.prototype.getLength=function(t,e){for(var i=this.transToURL([t],e),r=0,o=0;o<i.length;o++)r+=i[o].length;return r},n.prototype.configHeaders=function(t){void 0===t&&(t={}),this.headers=Object.assign({},this.headers||{},t)},n.prototype.getHeaders=function(){return this.headers||{}},n.prototype.config=function(t){void 0===t&&(t={}),this.baseURL=t.baseURL,t.headers&&this.configHeaders(opt.headers),t.baseParams&&"object"==typeof t.baseParams&&(this.baseParams=t.baseParams)},n.prototype.getBaseParams=function(){return this.baseParams||{}};var a=new n(o);function s(t,e,i){var o=a.getBaseParams(),n=null;if("[object Object]"===Object.prototype.toString.call(t))n=Object.assign({},o,t);else{var s={};s[e]=i,n=Object.assign({},o,{flag3:t},{timingObj:s})}var c=a.transToURL(n),d={};d.headers=Object.assign({},a.getHeaders()),Object(r.a)(Object.assign({},{url:c},d))}s.config=a.config,s.configHeaders=a.configHeaders;var c=s;i.d(e,"default",function(){return c})},function(t,e,i){"use strict";i.r(e);var r=i(0),o=function(t){void 0===t&&(t={}),this.config=this.config.bind(this),this.configHeaders=this.configHeaders.bind(this),this.getHeaders=this.getHeaders.bind(this),this.transToURL=this.transToURL.bind(this),this.config(t),this.headers={Referer:"https://buluo.qq.com/mobile/v2/detail.html",Origin:"https://buluo.qq.com"}};o.prototype.transToURL=function(t,e){"string"!=typeof t&&"number"!=typeof t||(t=[t]);var i=t||[];return i.length?(e||this.baseURL)+"["+i+"]&t="+Date.now():""},o.prototype.getLength=function(t){return this.transToURL([t]).length},o.prototype.configHeaders=function(t){void 0===t&&(t={}),this.headers=Object.assign({},this.headers||{},t)},o.prototype.getHeaders=function(){return this.headers||{}},o.prototype.config=function(t){void 0===t&&(t={}),this.baseURL=t.baseURL,t.headers&&this.configHeaders(opt.headers)};var n=new o({baseURL:"//buluo.qq.com/cgi-bin/bar/tdw/reportV2?monitorids="});function a(t,e,i){void 0===i&&(i={});var o=n.transToURL(t,e,i),a=Object.assign({},i);a.headers=Object.assign({},n.getHeaders(),i.headers||{}),Object(r.a)(Object.assign({},{url:o},a))}a.config=n.config,a.configHeaders=n.configHeaders;var s=a;i.d(e,"default",function(){return s})},,,,function(t,e,i){"use strict";i.r(e);var r=i(1),o=i(3),n=i(2);e.default={Sentry:r.default,sentry:r.default,monitor:o.default,huatuo:n.default}}])},128:function(t,e,i){"use strict";i.r(e);i(21);var r=i(9),o=i(10),n=i(32),a=i(29),s={props:{src:{require:!0,type:String},resize:{default:"stretch",type:String},imageStyle:{type:Object}},data:function(){return{finish:!1}},computed:{imgStyle:function(){return this.imageStyle.backgroundColor||!this.finish?this.imageStyle:Object.assign({},this.imageStyle,{backgroundColor:"transparent"})}},methods:{clickWrap:function(t){this.$emit("clickWrap",t)},onFinish:function(t){t.success&&(this.finish=!0)}}},c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap",style:t.imgStyle,on:{click:function(e){t.clickWrap(e,t.item)}}},[i("image",{staticClass:"wrap-img",style:t.imgStyle,attrs:{src:t.src,resize:t.resize},on:{finish:t.onFinish}})])};c._withStripped=!0;var d=i(1),l=i(80),f=Object(d.a)(s,c,[],!1,l,"data-v-6ab956b6",null);f.options.__file="src/pages/kd_cartoon_shelf/components/bgImage.vue";var p=f.exports,h={inject:["srcID"],props:{comicType:{type:Number},imageStyle:Object,item:Object},components:{bgImage:p},computed:{isComic:function(){return!!this.comicType},hasFocusBtn:function(){return!!this.isComic},subTitle:function(){return this.item.viewCount<1e3?"999+人正在看":"".concat(this.viewCount,"人在追")},viewCount:function(){var t=this.item.viewCount;if(t>=1e8){var e=Number(t/1e8).toFixed(1);return(e=e.replace(".0",""))+"亿"}return t>=1e4?(t=Number(t/1e4).toFixed(1),t=t.replace(".0",""),t+"w"):t}},methods:{itemClick:function(){this.$emit("itemClick",this.item)},onFocus:function(){1===this.item.isFollowed?this.requestFocus(2):this.requestFocus(1),this.item.isFollowed=1===this.item.isFollowed?0:1,1===this.item.isFollowed&&viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:"已追番",iconMode:1}})},requestFocus:function(t){var e=this,i={bytes_comic_id:this.item.articleId,uint64_puin:Number(this.item.accountId),uint32_oper_type:Number(t),uint32_src_id:Number(this.srcID)};viola.requireAPI("bridge").invoke({ns:"data",method:"ssoRequest",params:{cmd:"MQUpdateSvc_com_qq_kandian.web.JsOidbProxy.oidb_0xcfd_1",host:"kandian.qq.com",data:{body:i}}},function(t){0===t.data.retcode?e.$emit("focusStatusChange"):(e.item.isFollowed=1===e.item.isFollowed?0:1,viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:"请求失败，请重试",iconMode:2}}))})}}},u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:t.itemClick}},[r("div",{staticClass:"cover-wrap",attrs:{imageStyle:t.imageStyle}},[r("bgImage",{style:t.style,attrs:{imageStyle:t.imageStyle,resize:"cover","show-holder":!1,src:t.item.imgUrl}}),t.hasFocusBtn?r("div",{staticClass:"focus-btn-wrap",on:{click:function(e){return e.stopPropagation(),t.onFocus(e)}}},[1===t.item.isFollowed?r("image",{staticClass:"focus-btn-icon",attrs:{src:i(81)}}):t._e(),1!==t.item.isFollowed?r("image",{staticClass:"focus-btn-icon",attrs:{src:i(82)}}):t._e()]):t._e(),t.isComic?r("image",{staticClass:"view-mask",attrs:{src:i(83)}}):t._e(),t.isComic?r("div",{staticClass:"read-count-wrap"},[r("image",{staticClass:"hot-icon",attrs:{src:i(84)}}),r("text",{staticClass:"read-count"},[t._v(t._s(t.viewCount))])]):t._e()],1),r("div",{staticClass:"title-wrap",style:{width:t.imageStyle.width}},[r("text",{staticClass:"ip-title one-line"},[t._v(t._s(t.item.title))])])])};u._withStripped=!0;var g=i(79),m=Object(d.a)(h,u,[],!1,g,"data-v-6d1322dd",null);m.options.__file="src/pages/kd_cartoon_shelf/components/comicItem.vue";var v=m.exports,_=i(17),b=i.n(_),y=i(8),w=i(11),S={mixins:[y.a],data:function(){return{isIOS:w.d,ge800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0,ge805:this.compareVersion(ViolaEnv.appVersion,"8.0.5")>=0,white_back_icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAmklEQVR42u2ZsQmDABQFRUhhaek2keAS6SzExiWc0wXiACJC4PvA4oMT5JF7cP1d/QrGjBcRT7GIVbzd5DuxR24TD1P5DPCTzw3O8hPyyCOPPPLII4888sj/h3zrKZ8Bi6d8Bqw3+UN0TgG9uG93i5iIIIIIIogggggiiCCCiF+KeLlHfETpHPEVldtXPIojrs2ub30tmoKZ7gSMATmJ+8n8JAAAAABJRU5ErkJggg==",black_back_icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAArCAYAAABimUj7AAAAAXNSR0IArs4c6QAAAStJREFUWAntlz0KwkAQhaOCWAh2lp5CUBCxsLKwt/AMXkK8g4Vg4y1yAGt/QKwscgFLIY1vIBt2F/Ozs5NCyMLLZmaz70tekZAgkB0j2IXQGVqSdYMOQmMCnz3UTvw+mIfNpPCdbPPUTwKQZb4DJU5JzBMyv0FPS2umn7GtNjfiUEUdi0rCmOtYjDhUUceikjDm/41ljOeo7JVLn8wQGhhhBcEW9cnqsUr6onWtnTHql9Vjly3sfENzzYF6C+gKRVqfdUpmD4ggM81BDEJGNOhuK4EoQGUQHVAJxAaIQ34BRCFZADFIHkAEUgTwhpQBeEHKAtgQFwAL4gpwhnAAThAuoDTEB1AEueCCyBeQB5li8SgByIJ0sHCgRcmxgtkdop/CjaSx7tVD0VeNL/04o7ck3KlcAAAAAElFTkSuQmCC"}},props:{title:{type:String,default:""},textColor:{type:String,default:"#ffffff"},navOpacity:{type:Number,default:1},blackIcon:{type:Boolean,default:!1},bgColor:{type:String,default:"transparent"},fixed:{type:Boolean,default:!0},immersion:{type:Boolean,default:!1},rightText:{type:String,default:""},enableReturn:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!1},titleType:{type:Number,default:1},titleImgUrl:{type:String,default:""},titleImgStyle:{type:Object}},methods:{leftClickHandler:function(){var t=this;!0===this.enableReturn&&setTimeout(function(){t.popBack()},0),this.$emit("leftClick")},rightClickHandler:function(){this.$emit("right-click")},popBack:function(){viola.requireAPI("bridge").invoke({ns:"ui",method:"popBack"})}}},x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{nav:!0,nav_iOS:t.isIOS,nav_iphoneX:t.isIphoneX},style:{position:t.fixed?"absolute":"relative",top:0,left:0,opacity:t.navOpacity}},[i("div",{staticStyle:{flex:"1",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100vw"},style:{backgroundColor:t.bgColor}},[i("div",{staticStyle:{paddingLeft:"3dp",flexDirection:"row",alignItems:"center",width:"80dp"},on:{click:function(e){return e.stopPropagation(),t.leftClickHandler(e)}}},[i("image",{staticStyle:{width:"12dp",height:"21.5dp",marginLeft:"12dp",marginRight:"3dp"},attrs:{src:t.blackIcon?t.black_back_icon:t.white_back_icon,resize:"cover"}}),i("text",{staticStyle:{fontSize:"16dp"},style:{color:t.textColor,marginTop:t.isAndroid?"3dp":0},attrs:{value:"返回"}})]),1===t.titleType?i("text",{staticStyle:{fontSize:"16dp",flex:"1",textAlign:"center"},style:{color:t.textColor,marginTop:t.isAndroid?"3dp":0},attrs:{value:t.title}}):i("image",{style:t.titleImgStyle,attrs:{src:t.titleImgUrl}}),t._t("default"),t.isIOS&&t.ge800||t.isAndroid&&t.ge805?[t.showLoading?i("indicate-loading",{staticStyle:{width:"20dp",height:"20dp",position:"absolute",left:"360",bottom:"15dp"},attrs:{type:"1"}}):t._e()]:t._e(),i("text",{staticStyle:{width:"80dp",fontSize:"16dp",color:"black",textAlign:"right",paddingRight:"12dp"},style:{marginTop:t.isAndroid?"3dp":0},attrs:{value:t.rightText},on:{click:function(e){return e.stopPropagation(),t.rightClickHandler(e)}}})],2)])};x._withStripped=!0;var C=i(85),R=Object(d.a)(S,x,[],!1,C,"data-v-360d49eb",null);R.options.__file="src/component/Nav/index.vue";var k=R.exports,I={props:{showLoadMore:{default:!0},hasLoadMoreIcon:{type:Boolean,default:!0},loadMoreTextColor:{type:String,default:"#bbbbbb"},wordingLoadMoreLoading:{default:"努力加载中..."}},mixins:[y.a],data:function(){return{gte800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0}}},T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer"},[r("div",{staticClass:"footer_wrapper footer_wrapper-show"},[t.hasLoadMoreIcon&&t.gte800?r("indicate-loading",{staticClass:"footer_loading",class:{"footer_loading-ios":t.isIOS},attrs:{stopAnimating:!1}}):t.hasLoadMoreIcon?r("image",{staticClass:"footer_loading",attrs:{src:i(34)}}):t._e(),r("text",{staticClass:"footer_text",class:{"footer_text-android":t.isAndroid},style:{color:t.loadMoreTextColor}},[t._v(t._s(t.wordingLoadMoreLoading))])],1)])};T._withStripped=!0;var L=i(86),q=Object(d.a)(I,T,[],!1,L,"data-v-c6c94c14",null);q.options.__file="src/component/Load/loadingTips.vue";var O=q.exports,j=i(7);function A(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M={mixins:[y.a],provide:function(){return{srcID:this.srcID}},data:function(){return{srcID:a.a.srcId||1,cookies:"",channelID:5,newList:[],hotList:[],isNewEnd:!1,isHotEnd:!1,uin:viola.pageData.uin||"",pageStartForNew:0,pageStartForHot:0,showLoadMoreNew:!1,showLoadMoreHot:!1,pageSize:18,firstPageSize:18,sortType:Number(a.a.sortType)||1,comicType:a.a.comicType,needRefresh:!1}},components:{comicItem:v,qList:b.a,Nav:k,LoadingTips:O},created:function(){this.setPopWidth(),this.getComicList()},mounted:function(){var t=this;Object(j.b)(34564717),viola.on("update",function(e){e.viewDidAppear&&t.needRefresh&&(t.needRefresh=!1,t.getComicList({isRefresh:!0}))})},computed:{useCache:function(){return 3==this.comicType||4==this.comicType},cacheKey_new_comic:function(){return"viola_comic_channel_new_comic_data_".concat(this.uin,"_").concat(this.comicType)},cacheKey_hot_comic:function(){return"viola_comic_channel_hot_comic_data_".concat(this.uin,"_").concat(this.comicType)},list:function(){return 1===this.sortType?this.newList:2===this.sortType?this.hotList:void 0},isEnd:function(){return 1===this.sortType?this.isNewEnd:2===this.sortType?this.isHotEnd:void 0},showLoadMore:function(){return 1===this.sortType?this.showLoadMoreNew:2===this.sortType?this.showLoadMoreHot:void 0},pageStart:function(){return 1===this.sortType?this.pageStartForNew:this.pageStartForHot},itemStyle:function(){var t;return{width:(t=this.isIOS?(ViolaEnv.deviceWidth-24-33)/3:(ViolaEnv.deviceWidth-24-33-1)/3)+"dp",height:t/(212/282)+"dp",borderRadius:"6dp"}},titleImgUrl:function(){return 4==this.comicType?i(87):i(88)},titleImgStyle:function(){return 4==this.comicType?{height:"23dp",width:"84dp"}:{height:"23dp",width:"66dp"}}},methods:{getComicList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.sortType,o=e.isRefresh,n=void 0!==o&&o,a=this.pageStart;return n?a=0:0===this.pageStart&&this.useCache&&this.getComicCacheBeforeRequest(i),new Promise(function(o,n){Object(r.a)("https://kandian.qq.com/cgi-bin/kandianChannel/getComicDetailPage",{srcId:1,channelId:t.channelID,sortType:i,comicType:t.comicType,pageCookies:JSON.stringify({pageStart:a,pageSize:0===a?t.pageSize:t.firstPageSize})}).then(function(r){r&&0===r.retcode&&r.result?(t.hasInit=!0,t.processData(r.result,i,e),o()):n()}).catch(function(t){n()})})},setComicCacheAfterRequst:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1===t?this.cacheKey_new_comic:this.cacheKey_hot_comic;e.length&&viola.requireAPI("cache").setItem(i,{list:e})},getComicCacheBeforeRequest:function(t){var e=this,i=1===t?this.cacheKey_new_comic:this.cacheKey_hot_comic;viola.requireAPI("cache").getItem(i,function(i){(i=Object(o.a)(i)).list&&i.list.length&&(2===t?e.hotList=i.list:1===t&&(e.newList=i.list))})},updateComicCacheAfterUserAction:function(){var t=1===this.sortType?this.cacheKey_new_comic:this.cacheKey_hot_comic,e=this.list.slice(0,18);e.length&&viola.requireAPI("cache").setItem(t,{list:e})},focusStatusChange:function(){this.updateComicCacheAfterUserAction()},processData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.subInfoList||[],o=t.isEnd,n=i.isRefresh;1===e?(n||0===this.pageStartForNew&&r.length?(this.pageStartForNew=0,this.newList=A(r),this.setComicCacheAfterRequst(e,r.slice(0,18))):this.newList=this.newList.concat(r),this.pageStartForNew+=r.length,this.isNewEnd=o,this.showLoadMoreNew=!0):2===e&&(n||0===this.pageStartForHot&&r.length?(this.pageStartForHot=0,this.hotList=r,this.setComicCacheAfterRequst(e,r.slice(0,18))):this.hotList=this.hotList.concat(r),this.pageStartForHot+=r.length,this.isHotEnd=o,this.showLoadMoreHot=!0)},toggleSort:function(t){if(this.sortType=t,1===t){if(this.newList.length>0)return}else if(this.hotList.length>0)return;this.getComicList()},comicJump:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.needRefresh=!0,Object(n.a)(t.jumpUrl,t.jumpType)},setPopWidth:function(){viola.requireAPI("bridge").invoke({ns:"ui",method:"setRightDragToGoBackParams",params:{enable:!1,width:"50dp"}})},refreshHandler:function(t,e){var i=this,r=Date.now();this.channelFetchStatus=0,this.$refs.channelConf.refresh(),this.getComicList({force:!0}).then(function(){if(i.isIOS)return t();var e=Date.now()-r;e<400?setTimeout(function(){t()},Math.max(500-e,0)):t()}).catch(function(t){e()})},loadMoreHandler:function(t,e){var i=this;0!==this.pageStart?this.getComicList().then(function(){t(i.isEnd?"啊哦，我也是有底线的~":"")}).catch(function(){e()}):t("")},tips:function(t){viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:t,iconMode:1}})},dialog:function(t){viola.requireAPI("bridge").invoke({ns:"ui",method:"showDialog",params:{title:"标题",text:t,needOkBtn:!0,needCancelBtn:!1,okBtnText:"是的",cancelBtnText:"不是"}},function(t){t.data.button})}}},E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Nav",{attrs:{immersion:!0,fixed:!1,"bg-color":"#fff",textColor:"#000",blackIcon:!0,"title-type":2,"title-img-url":t.titleImgUrl,"title-img-style":t.titleImgStyle}}),i("qList",{attrs:{cacheKey:"channel_kd_cartoon",wordingLoadMoreLoading:"正在加载...",wordingLoadMoreEnding:"啊哦，我也是有底线的~",loadMoreTextColor:t.isIOS?"#737373":"#bbbbbb",hasLoadMoreIcon:!0,isEnd:t.isEnd,enableSafeBottom:!t.isIOS,cacheDuration:9e5,loadMoreBgColor:"#ffffff",preloadDistance:"400dp",loadMoreDelay:20,enableRefresh:!1,showLoadMore:t.showLoadMore},on:{loadMore:t.loadMoreHandler}},[[i("cell",[0!==t.list.length||t.isEnd?t._e():i("LoadingTips",{attrs:{wordingLoadMoreLoading:"正在加载...",loadMoreTextColor:t.isIOS?"#737373":"#bbbbbb"}}),i("div",{staticClass:"list-content-wrap"},t._l(t.list,function(e,r){return i("comic-item",{key:r,staticClass:"ip-item",class:{"ip-item-middle":(r+2)%3==0},attrs:{imageStyle:t.itemStyle,item:e,hasSubTitle:!1,comicType:4},on:{itemClick:t.comicJump,focusStatusChange:t.focusStatusChange}})}))],1)]],2)],1)};E._withStripped=!0;var D=i(78),P=Object(d.a)(M,E,[],!1,D,"data-v-51334dfa",null);P.options.__file="src/pages/kd_cartoon_shelf/index.vue";var V=P.exports;new Vue({el:"#app",components:{cmp:V},render:function(t){return t(V)}})},17:function(t,e){t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=59)}({0:function(t,e,i){"use strict";function r(t,e,i,r,o,n,a,s){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var d="function"==typeof t?t.options:t;return e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId=n),d._stylesheet=o,{exports:t,options:d}}i.d(e,"a",function(){return r})},1:function(t,e,i){"use strict";e.a=function(t,e){t=t.split("."),e=e.split("."),t[2]="0."+t[2],e[2]="0."+e[2];for(var i=0;i<3;i++){if(parseFloat(t[i])>parseFloat(e[i]))return 1;if(parseFloat(t[i])<parseFloat(e[i]))return-1}return 0}},22:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_loading_85f3b0a6.png"},3:function(t,e,i){"use strict";var r=i(1);e.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,isSmallIOS:"ios"==ViolaEnv.platform.toLowerCase()&&ViolaEnv.deviceWidth<=320,isKuaibao:"qnreading"===ViolaEnv.appID||"2"===ViolaEnv.appID}},methods:{compareVersion:r.a}}},59:function(t,e,i){t.exports=i(93)},60:function(t,e){t.exports={"opacity-1":{style:{opacity:"1"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"opacity-0":{style:{opacity:"0"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},list:{style:{backgroundColor:"#f5f6f9"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"list-dark":{style:{backgroundColor:"#333333"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_background:{style:{position:"absolute",bottom:"0",left:"0",width:"100vw",height:"2000dp",backgroundColor:"#f5f6f9"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_background-dark":{style:{backgroundColor:"#333333"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_content:{style:{position:"relative",height:"50dp",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle_arrow:{style:{position:"absolute",left:"90dp",top:"9dp",width:"32dp",height:"32dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_idle_arrow-dark":{style:{left:"60dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_idle_text:{style:{color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_idle_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading_spinner:{style:{position:"absolute",left:"98dp",top:"17dp",width:"16dp",height:"16dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_loading_spinner-dark":{style:{left:"68dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_loading_text:{style:{color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_loading_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done:{style:{position:"relative",width:"100vw",height:"50dp",flexDirection:"row",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done_success:{style:{marginTop:"1dp",width:"16dp",height:"16dp",marginRight:"5dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},refresh_done_text:{style:{marginTop:"2dp",color:"#bbb",fontSize:"14dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"refresh_done_text-dark":{style:{color:"#fff"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer:{style:{height:"65dp",paddingBottom:"5dp",justifyContent:"center",alignItems:"center",flexDirection:"row"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_wrapper:{style:{position:"absolute",left:"0",right:"0",top:"5dp",bottom:"0",opacity:"0",flexDirection:"row",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_wrapper-show":{style:{opacity:"1"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer-common":{style:{height:"111dp",paddingBottom:"61dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer-iphoneX":{style:{height:"155dp",paddingBottom:"95dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_text:{style:{fontSize:"13dp",textAlign:"center",color:"#bbb"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_text-android":{style:{marginTop:"2dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},footer_loading:{style:{marginRight:"7dp",width:"16dp",height:"16dp"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]},"footer_loading-ios":{style:{transform:"scale(0.8)"},scoped_id:"data-v-534c8718",state:{},attrs:{},children:[]}}},61:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_success_ios_04873df3.png"},62:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_arrow_down_54285430.png"},63:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/viola-kd-components/images/refresh_arrow_dark_95ee56ca.png"},93:function(t,e,i){"use strict";i.r(e);var r={methods:{onRefresh_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshTimer&&(clearTimeout(this.mRefreshTimer),this.mRefreshTimer=null),this.mRefreshStatus="refresh",this.$emit("refresh",this.finishRefresh.bind(this),this.errorRefresh.bind(this)))},onPulling_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshStatus="pulling"),this.$refs.arrow&&this.$refs.arrow.animate({transform:"rotate(180deg)",transformOrigin:"center center"},{duration:100}),this.$emit("pulling")},onIdle_both:function(){"refresh"!=this.mRefreshStatus&&(this.mRefreshStatus="idle"),this.$refs.arrow&&this.$refs.arrow.animate({transform:"rotate(0)",transformOrigin:"center center"},{duration:0}),this.$emit("idle")}}},o={mixins:[i(3).a,{methods:{onRefresh_iOS:function(){this._refreshStatus="refresh",this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:0},{duration:.001}),this.$emit("refresh",this.finishRefresh.bind(this),this.errorRefresh.bind(this))},onPulling_iOS:function(){this.$emit("pulling")},onIdle_iOS:function(){this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:0},{duration:.001}),this.$emit("idle")},showRefreshText_iOS:function(){this.$refs.refreshText&&this.$refs.refreshText.animate({opacity:1},{duration:300})}}},r],name:"q-list",props:{showList:{default:!0},showLoadMore:{default:!0},preloadDistance:{default:"200dp"},loadMoreBgColor:{type:String,default:"#f7f7f7"},loadMoreTextColor:{type:String,default:"#bbbbbb"},wordingLoadMoreIdle:{default:"点击加载更多"},wordingLoadMoreLoading:{default:"努力加载中..."},wordingLoadMoreError:{default:"加载失败，点击重试"},wordingLoadMoreEnding:{default:"啊嘞，到底了~"},wordingRefreshLoading:{default:"正在刷新..."},wordingRefreshSuccess:{default:"已为您推荐新内容"},wordingRefreshError:{default:"刷新失败"},cacheKey:{require:!0,type:String},cacheDuration:{type:Number,default:9e5},loadMoreDelay:{type:Number,default:0},hasLoadMoreIcon:{type:Boolean,default:!1},isEnd:{type:Boolean,default:!1},enableSafeBottom:{type:Boolean,default:!1},enableRefresh:{type:Boolean,default:!0},enableLoadMore:{type:Boolean,default:!0},scrollMinOffset:{type:String|Number,default:"20dp"}},data:function(){return{gte800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0,mEnableDarkMode:!1,mIsTimeToShow:!1,mIsRetrying:!1,mRefreshTimer:null,mRefreshStatus:"idle",mLoadMoreStatus:"idle",mLastClickHeaderTimestamp:0,mNeedSpinnerRotating:!1,mCacheKey:"viola_channel_reset_time_"+(this.cacheKey||"common")}},watch:{isEnd:function(t){1==t&&(this.mNeedSpinnerRotating=!1),this.mLoadMoreStatus=1==t?"end":"end"==this.mLoadMoreStatus?"idle":this.mLoadMoreStatus}},created:function(){var t=this;this.mLoadMoreStatus=1==this.isEnd?"end":"end"==this.mLoadMoreStatus?"idle":this.mLoadMoreStatus,setTimeout(function(){t.mIsTimeToShow=!0},400)},mounted:function(){var t=this;this.isWeb||viola.on("update",function(e){(e=function(t){if(!t)return{};var e={};if("object"==typeof t)return t;try{e=JSON.parse(t)}catch(e){}return"string"==typeof e?{}:e}(e)).pageRefresh?t.refresh(e.pageRefresh.type):e.viewDidDisappear?t.disappearHandler():e.viewDidAppear&&t.appearHandler()}),this.initHandler(),this.bindClickToTop(),this.isAndroid&&!this.gte800&&setTimeout(function(){t.mEnableDarkMode=!0},400)},beforeDestroy:function(){this.disappearHandler(!0)},methods:{getRef:function(){return this.$refs.list},appearHandler:function(){var t=this;this.$emit("appear"),viola.requireAPI("cache").getItem(this.mCacheKey,function(e){Date.now()-e>=t.cacheDuration&&t.$emit("reset",!1,t.refreshHook.bind(t)),viola.requireAPI("cache").setItem(t.mCacheKey,""+Date.now())})},disappearHandler:function(t){this.$emit("disappear"),t&&this.isIOS||viola.requireAPI("cache").setItem(this.mCacheKey,""+Date.now())},initHandler:function(){var t=this;viola.requireAPI("cache").getItem(this.mCacheKey,function(e){var i=!1;"{}"!=e&&"object"!=typeof e||(e=0),Date.now()-e>=t.cacheDuration&&(i=!0),t.$emit("init",i,t.refreshHook.bind(t))})},refresh:function(t){this.$emit("tabRefresh",{type:t}),this.$refs.refresh&&this.$refs.refresh.refresh()},refreshHook:function(t){void 0===t&&(t=!1),this.$refs.refresh&&this.$refs.refresh.refresh(t)},errorRefresh:function(t){this.refreshWord=t||this.wordingRefreshError,this.mRefreshStatus="error",this.isIOS?this.showRefreshText_iOS():this.needShowTip=!0,this.resetRefresh(500)},finishRefresh:function(t){this.refreshWord=t||this.wordingRefreshSuccess,this.mRefreshStatus="success",this.isIOS?(this.showRefreshText_iOS(),this.resetRefresh(500)):this.resetRefresh(800)},resetRefresh:function(t){var e=this;void 0===t&&(t=0),this.mRefreshTimer=setTimeout(function(){e.mRefreshTimer=null,e.$refs.refresh&&e.$refs.refresh.refreshFinish()},t)},loadMore:function(t){var e=this;if(!this.enableLoadMore)return this.$refs.list.loadMoreFinish();if(!(this.mIsRetrying||this.fromClick&&"refresh"==this.mLoadMoreStatus)){if(!0===t&&(this.mIsRetrying=!0),"refresh"==this.mRefreshStatus&&!0!==t||this.isEnd)return this.mIsRetrying=!1,this.$refs.list.loadMoreFinish();this.mNeedSpinnerRotating=!0,this.mLoadMoreStatus="loading",!0===t?setTimeout(function(){e.mIsRetrying=!1,e.$emit("loadMore",e.finishLoadMore.bind(e),e.errorLoadMore.bind(e))},200):this.loadMoreDelay>0?setTimeout(function(){e.$emit("loadMore",e.finishLoadMore.bind(e),e.errorLoadMore.bind(e))},this.loadMoreDelay):this.$emit("loadMore",this.finishLoadMore.bind(this),this.errorLoadMore.bind(this))}},errorLoadMore:function(){var t=this;this.mLoadMoreStatus="error",this.mNeedSpinnerRotating=!1,setTimeout(function(){t.$refs.list&&t.$refs.list.loadMoreFinish()},500)},finishLoadMore:function(t){var e=this;setTimeout(function(){"end"!=e.mLoadMoreStatus&&(e.mNeedSpinnerRotating=!1,e.mLoadMoreStatus="idle"),e.$refs.list&&e.$refs.list.loadMoreFinish()},100)},scrollHandler:function(t){this.$emit("scroll",t)},scrollEndHandler:function(t){this.$emit("scrollEnd",t)},bindClickToTop:function(){var t=this;this.gte800&&!this.isWeb&&viola.requireAPI("bridge").invoke({ns:"ui",method:"violaTitleBarClick"},function(e){0==e.code&&(e.data.timestamp-t.mLastClickHeaderTimestamp<=500?(t.$refs.list&&t.$refs.list.scrollToTop(!0),t.mLastClickHeaderTimestamp=0):t.mLastClickHeaderTimestamp=e.data.timestamp)})}}},n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showList?r("list",{ref:"list",class:{list:t.isAndroid&&t.gte800,"list-dark":t.mEnableDarkMode},attrs:{scrollMinOffset:t.scrollMinOffset,preloadDistance:t.preloadDistance},on:{loadMore:t.loadMore,scroll:t.scrollHandler,scrollEnd:t.scrollEndHandler}},[t.isIOS&&t.enableRefresh?r("qrefresh",{ref:"refresh",staticStyle:{alignItems:"center",justifyContent:"center"},on:{refresh:t.onRefresh_iOS,pulling:t.onPulling_iOS,idle:t.onIdle_iOS}},[r("div",{ref:"refreshText",staticStyle:{flex:"1",width:"750rt",backgroundColor:"#f6f6f6",flexDirection:"row",justifyContent:"center",alignItems:"center",opacity:"0"}},["success"==t.mRefreshStatus?r("image",{staticStyle:{width:"14dp",height:"14dp"},attrs:{src:i(61)}}):t._e(),r("text",{staticStyle:{marginLeft:"4dp",fontSize:"15dp",color:"#737373"}},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:"")+" "+t._s("error"==t.mRefreshStatus?t.wordingRefreshError:""))])])]):(t.isWeb||t.gte800)&&t.enableRefresh?r("refresh",{ref:"refresh",staticClass:"refresh",on:{refresh:t.onRefresh_both,pulling:t.onPulling_both,idle:t.onIdle_both}},[r("div",{staticClass:"refresh_background"}),r("div",{staticClass:"refresh_content"},[r("indicate-loading",{key:"indicate",staticClass:"refresh_loading_spinner",class:"refresh"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{stopAnimation:"refresh"!=t.mRefreshStatus}}),r("image",{key:"arrow",ref:"arrow",staticClass:"refresh_idle_arrow",class:"pulling"==t.mRefreshStatus||"idle"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:i(62)}}),"refresh"==t.mRefreshStatus?r("div",{staticClass:"refresh_loading"},[r("text",{staticClass:"refresh_loading_text"},[t._v(t._s(t.wordingRefreshLoading))])]):"success"==t.mRefreshStatus||"error"==t.mRefreshStatus?r("div",{staticClass:"refresh_done"},[r("text",{staticClass:"refresh_done_text"},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:t.wordingRefreshError))])]):r("div",{staticClass:"refresh_idle"},[r("text",{staticClass:"refresh_idle_text"},[t._v(t._s("idle"==t.mRefreshStatus?"下拉刷新":"释放立即刷新"))])])],1)]):t.enableRefresh?r("refresh",{ref:"refresh",staticClass:"refresh",on:{refresh:t.onRefresh_both,pulling:t.onPulling_both,idle:t.onIdle_both}},[r("div",{staticClass:"refresh_background refresh_background-dark"}),r("div",{staticClass:"refresh_content"},[r("image",{key:"loading",ref:"loading",staticClass:"refresh_loading_spinner refresh_loading_spinner-dark",class:"refresh"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:i(22)}}),r("image",{key:"arrow",ref:"arrow",staticClass:"refresh_idle_arrow refresh_idle_arrow-dark",class:"pulling"==t.mRefreshStatus||"idle"==t.mRefreshStatus?"opacity-1":"opacity-0",attrs:{src:i(63)}}),"refresh"==t.mRefreshStatus?r("div",{staticClass:"refresh_loading"},[r("text",{staticClass:"refresh_loading_text refresh_loading_text-dark"},[t._v(t._s(t.wordingRefreshLoading))])]):"success"==t.mRefreshStatus||"error"==t.mRefreshStatus?r("div",{staticClass:"refresh_done"},[r("text",{staticClass:"refresh_done_text refresh_done_text-dark"},[t._v(t._s("success"==t.mRefreshStatus?t.wordingRefreshSuccess:t.wordingLoadMoreError))])]):r("div",{staticClass:"refresh_idle"},[r("text",{staticClass:"refresh_idle_text refresh_idle_text-dark"},[t._v(t._s("idle"==t.mRefreshStatus?"下拉刷新":"释放立即刷新"))])])])]):t._e(),t._t("default"),t.showLoadMore&&t.enableLoadMore&&t.mIsTimeToShow?r("cell",[r("div",{staticClass:"footer",class:{"footer-common":t.gte800&&t.enableSafeBottom&&!t.isIphoneX,"footer-iphoneX":t.gte800&&t.enableSafeBottom&&t.isIOS&&t.isIphoneX},style:{backgroundColor:t.loadMoreBgColor},on:{click:function(e){e.stopPropagation(),t.loadMore(!0)}}},[r("div",{staticClass:"footer_wrapper",class:{"footer_wrapper-show":"loading"==t.mLoadMoreStatus}},[t.hasLoadMoreIcon&&(t.gte800||t.isWeb)?r("indicate-loading",{staticClass:"footer_loading",class:{"footer_loading-ios":t.isIOS},attrs:{stopAnimating:!t.mNeedSpinnerRotating}}):t.hasLoadMoreIcon?r("image",{staticClass:"footer_loading",attrs:{src:i(22)}}):t._e(),r("text",{staticClass:"footer_text",class:{"footer_text-android":t.isAndroid},style:{color:t.loadMoreTextColor},attrs:{value:t.wordingLoadMoreLoading}})],1),r("div",{staticClass:"footer_wrapper",class:{"footer_wrapper-show":"loading"!=t.mLoadMoreStatus}},[r("text",{staticClass:"footer_text",class:{"footer_text-android":t.isAndroid},style:{color:t.loadMoreTextColor}},[t._v(t._s("idle"==t.mLoadMoreStatus?t.wordingLoadMoreIdle:"")+" "+t._s("end"==t.mLoadMoreStatus?t.wordingLoadMoreEnding:"")+" "+t._s("error"==t.mLoadMoreStatus?t.wordingLoadMoreError:""))])])])]):t._e()],2):t._e()};n._withStripped=!0;var a=i(0),s=i(60),c=Object(a.a)(o,n,[],!1,s,"data-v-534c8718",null);c.options.__file="src/component/qlist/qlist.vue";var d=c.exports;e.default=d}})},21:function(t,e,i){},29:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var r=function(){var t=viola.pageData.url.split("?")[1];return t?t.split("&").reduce(function(t,e){if(e){var i=e.split("=");t[i[0]]=i[1]}return t},Object.create(null)):Object.create(null)}();viola.pageData.param||viola.pageData.params||Object.create(null)},3:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var r=i(0),o="ui";function n(t){var e=t.title;"string"==typeof e&&Object(r.c)(o,"setTitle",{title:e})}function a(t){var e=t.url,i=t.param;void 0===i&&(i={}),"string"==typeof e&&Object(r.c)(o,"openUrl",{url:e,param:i})}},32:function(t,e,i){"use strict";e.a=function(t,e,i){switch(e){case 1:!function(t){viola.requireAPI("bridge").invoke({ns:"ui",method:"openUrl",params:{url:t}})}(t);break;case 2:r=t,viola.requireAPI("bridge").invoke({ns:"schema",method:"jumpAction",params:{schema:r}});break;case 3:!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};viola.requireAPI("bridge").invoke({ns:"ui",method:"openPage",params:{url:t,param:{data:Object.assign({},e),fromViola:!0}}})}(t,i)}var r}},34:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/refresh_loading.png"},4:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(0),o="data";function n(){return Object(r.b)(o,"getUserInfo")}},5:function(t,e,i){"use strict";function r(t){return new Promise(function(e,i){viola.requireAPI("http").request(t,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?e(t.data):i(t.errorText)})})}function o(t,e){if(void 0===e&&(e={}),!t)throw TypeError("http Get require URL");return new Promise(function(i,r){viola.requireAPI("http").requestGet(t,e,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?i(t.data):r(t.errorText)})})}function n(t,e){if(void 0===e&&(e={}),!t)throw TypeError("http Get require URL");return new Promise(function(i,r){viola.requireAPI("http").requestPost(t,e,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?i(t.data):r(t.errorText)})})}i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return n})},7:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return a}),i.d(e,"c",function(){return s});var r=i(12),o=i.n(r),n=o.a.monitor,a=o.a.huatuo,s=new o.a.Sentry({dsn:"https://9772f10850174ca3b3bbd6b2ab344a12@report.url.cn/sentry/1222"});s.listen()},78:function(t,e){t.exports={container:{style:{position:"relative",backgroundColor:"#fff",width:"100vw",flexDirection:"column",flex:"1"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},header:{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingBottom:"20dp",paddingTop:"10.5dp",backgroundColor:"#fff"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},tab:{style:{width:"50dp",height:"23dp",marginTop:"0",marginRight:"3dp",marginBottom:"0",marginLeft:"3dp",borderRadius:"100dp",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"tab-text":{style:{fontSize:"14dp",height:"23dp",lineHeight:"23dp"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"tab-text-normal":{style:{fontSize:"14dp",color:"#000"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"tab-text-active":{style:{fontSize:"14dp",color:"#530101"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"tab-active":{style:{backgroundColor:"#ffcb27"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"tab-normal":{style:{backgroundColor:"transparent"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"list-content-wrap":{style:{flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",backgroundColor:"#fff",paddingLeft:"12dp",paddingRight:"12dp",paddingTop:"15dp"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"ip-item":{style:{position:"relative",marginBottom:"18dp"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]},"ip-item-middle":{style:{marginTop:"0",marginRight:"16.5dp",marginBottom:"0",marginLeft:"16.5dp"},scoped_id:"data-v-51334dfa",state:{},attrs:{},children:[]}}},79:function(t,e){t.exports={"cover-wrap":{style:{position:"relative"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"focus-btn-wrap":{style:{position:"absolute",width:"27.5dp",height:"27.5dp",left:"0",top:"0",zIndex:"10000"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"focus-btn-icon":{style:{width:"27.5dp",height:"27.5dp",borderTopLeftRadius:"6dp",borderBottomRightRadius:"6dp"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"read-count-wrap":{style:{position:"absolute",bottom:"2dp",right:"4dp",height:"17dp",flexDirection:"row",alignItems:"center"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"hot-icon":{style:{height:"12dp",width:"12dp"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"read-count":{style:{fontSize:"12dp",color:"#fff"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"view-mask":{style:{position:"absolute",left:"0",right:"0",bottom:"0",height:"17dp",borderBottomLeftRadius:"6dp",borderBottomRightRadius:"6dp"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"ip-title":{style:{fontSize:"14dp",lineHeight:"18dp",height:"18dp",marginTop:"8dp",color:"#000"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]},"ip-sub-title":{style:{fontSize:"12dp",lineHeight:"16dp",height:"16dp",marginTop:"4dp",color:"#010101",opacity:"0.5",textOverflow:"ellipsis",lines:"1"},scoped_id:"data-v-6d1322dd",state:{},attrs:{},children:[]}}},8:function(t,e,i){"use strict";e.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,isSmallIOS:"ios"==ViolaEnv.platform.toLowerCase()&&ViolaEnv.deviceWidth<=320}},methods:{compareVersion:function(t,e){t=t.split("."),e=e.split("."),t[2]="0."+t[2],e[2]="0."+e[2];for(var i=0;i<3;i++){if(parseFloat(t[i])>parseFloat(e[i]))return 1;if(parseFloat(t[i])<parseFloat(e[i]))return-1}return 0}}}},80:function(t,e){t.exports={wrap:{style:{backgroundColor:"#f6f7fa",alignItems:"center",justifyContent:"center"},scoped_id:"data-v-6ab956b6",state:{},attrs:{},children:[]},"wrap-holder":{style:{width:"40dp",height:"38dp"},scoped_id:"data-v-6ab956b6",state:{},attrs:{},children:[]},"wrap-img":{style:{position:"absolute",top:"0",left:"0"},scoped_id:"data-v-6ab956b6",state:{},attrs:{},children:[]}}},81:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/cartoon_liked.png"},82:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/cartoon_like.png"},83:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/view_mask.png"},84:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/hot.png"},85:function(t,e){t.exports={nav:{style:{paddingTop:"30dp",height:"74dp",width:"100vw",paddingRight:"12dp"},scoped_id:"data-v-360d49eb",state:{},attrs:{},children:[]},nav_iOS:{style:{paddingTop:"20dp",height:"64dp"},scoped_id:"data-v-360d49eb",state:{},attrs:{},children:[]},nav_iphoneX:{style:{paddingTop:"44dp",height:"88dp"},scoped_id:"data-v-360d49eb",state:{},attrs:{},children:[]}}},86:function(t,e){t.exports={footer:{style:{height:"20dp",justifyContent:"center",alignItems:"center",flexDirection:"row"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]},footer_wrapper:{style:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",flexDirection:"row",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]},footer_text:{style:{fontSize:"13dp",textAlign:"center",color:"#bbb"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]},"footer_text-android":{style:{marginTop:"2dp"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]},footer_loading:{style:{marginRight:"7dp",width:"16dp",height:"16dp"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]},"footer_loading-ios":{style:{transform:"scale(0.8)"},scoped_id:"data-v-c6c94c14",state:{},attrs:{},children:[]}}},87:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/my-cartoon.png"},88:function(t,e){t.exports="http://sqimg.qq.com/qq_product_operations/kan/viola_project/3704/images/invalid-name@3x.png"},9:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s}),i.d(e,"c",function(){return l});var r=i(5),o=i(4),n={};function a(t){if(!t)return"";if(n[t])return n[t];for(var e,i=5381,r=0,o=t.length;r<o;++r)i+=(i<<5)+t.charAt(r).charCodeAt();return n[t]=e=2147483647&i,e}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?Object(o.a)().then(function(o){var n=o.skey;if(n){var s=a(n);return e.bkn=s,Object(r.b)(t,e)}return"Web"==ViolaEnv.platform&&i?d():Object(r.b)(t,e)}).catch(function(t){}):Promise.reject()}var c={appid:"715037605",s_url:"http://mma.qq.com/gohome/mp/index.html",mlogo:"http://mma.qq.com/rank/img/logo.png",daid:481},d=function(t){c.s_url=window.location.href,void 0!==t&&void 0!==t.daid&&(c.daid=t.daid),location.href="//ui.ptlogin2.qq.com/cgi-bin/login?daid="+c.daid+"&style=8&appid="+c.appid+"&hln_css="+encodeURIComponent(c.mlogo)+"&s_url="+encodeURIComponent(c.s_url)};function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.url&&viola.requireAPI("http").request({url:t.url,method:t.method||"get",headers:{Referer:t.referer||"http://kandian.qq.com/kandian/bundle_funny.html",Origin:t.origin||"http://kandian.qq.com","Content-Type":"application/json"},data:t.body||{}},function(e){t.callback&&t.callback(e)})}}});