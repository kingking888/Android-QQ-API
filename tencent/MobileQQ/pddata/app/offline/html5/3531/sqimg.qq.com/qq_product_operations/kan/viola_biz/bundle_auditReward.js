!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=24)}({0:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"c",function(){return o});var n=viola.requireAPI("bridge"),i=function(t){return 0===t.code};function o(t,e,r){var i={ns:t,method:e};r&&(i.params=r),n.invoke(i)}function a(t,e,r){return new Promise(function(o,a){var d={ns:t,method:e};r&&(d.params=r),n.invoke(d,function(r){r&&i(r)?o(r.data):a("\n        [ Error ]\n          ns: "+t+"\n          method: "+e+"\n          message: "+r.errorText+"\n        ")})})}e.a=n},1:function(t,e,r){"use strict";function n(t,e,r,n,i,o,a,d){var s=typeof(t=t||{}).default;"object"!==s&&"function"!==s||(t=t.default);var c="function"==typeof t?t.options:t;return e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId=o),c._stylesheet=i,{exports:t,options:c}}r.d(e,"a",function(){return n})},15:function(t,e,r){"use strict";function n(t){if(!t)return{};var e={};if("object"==typeof t)return t;try{e=JSON.parse(t)}catch(t){}return"string"==typeof e?{}:e}r.d(e,"a",function(){return n})},18:function(t,e,r){"use strict";e.a=function(t,e){if("undefined"==(t+=""))return"-";t=10==t.length?parseInt(t+"000",10):parseInt(t);var r=new Date(t);null==e&&(e="YYYY-MM-DD hh:mm:ss");var n={"M+":r.getMonth()+1,"D+":r.getDate(),"h+":r.getHours(),"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),S:r.getMilliseconds()};for(var i in/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}},2:function(t,e,r){"use strict";r.d(e,"a",function(){return s}),r.d(e,"b",function(){return c}),r.d(e,"c",function(){return u}),r.d(e,"d",function(){return d}),r.d(e,"e",function(){return o}),r.d(e,"f",function(){return a});var n=r(0),i="ui";function o(t){return Object(n.b)(i,"showDialog",t)}function a(t){Object(n.c)(i,"showTips",t)}function d(t){var e=t.title;"string"==typeof e&&Object(n.c)(i,"setTitle",{title:e})}function s(t){var e=t.url,r=t.param;void 0===r&&(r={}),"string"==typeof e&&Object(n.c)(i,"openPage",{url:e,param:r})}function c(t){var e=t.url,r=t.param;void 0===r&&(r={}),"string"==typeof e&&Object(n.c)(i,"openUrl",{url:e,param:r})}function u(){Object(n.c)(i,"popBack")}},24:function(t,e,r){"use strict";r.r(e);var n=r(15),i=r(3),o=r(18),a=r(9),d=r(6),s=r(4),c=r(2),u={mixins:[d.a,s.a],data:function(){return{data:{},uin:null,violaT:{id:10}}},created:function(){this.data=this.isWeb?{}:viola.pageData.param||{},viola.requireAPI("bridge").invoke({ns:"ui",method:"setTitle",params:{title:"领取"}})},mounted:function(){this.fetchData(),this.T({code:"0X8009912"})},computed:{periodStr:function(){return this.data.currentPeriodStr&&this.data.currentPeriodStr.replace(/ /g,"")||"无"},endTimeStr:function(){var t=this.data.currentPeriodEndTs||Date.now();return Object(o.a)(t,"MM月DD日")},isAllowGetReward:function(){return this.data.currentStatus>=this.data.rewardRequired&&0!==this.data.rewardRequired}},methods:{confirm:function(){return this.T({code:"0X8009913"}),this.isRewarded?Object(c.f)({text:"当前周期已经领过奖励啦~",iconMode:1}):this.isAllowGetReward?void a.a.get("http://kandian.qq.com/cgi-bin/auditVideos/getReward",{rewardId:this.data.currentPeriodReward&&this.data.currentPeriodReward[0].rewardId}).then(function(t){0==t.retcode?1==t.result.triedGetRewardTwice?Object(c.f)({text:"当前周期已经领取过奖励啦~",iconMode:3}):(t.isRewarded=1,Object(c.e)({title:"领取成功",text:"视频周卡发放到账户后即刻生效，请留意后续邮件通知！",needOkBtn:!0,needCancelBtn:!1,okBtnText:"确定"})):Object(c.f)({text:"未达到领取条件，完成任务后再来领取吧~",iconMode:3})}).catch(function(t){Object(c.f)({text:"当前网络不可用，请检查你的网络",iconMode:3})}):Object(c.f)({text:"完成任务后再来领取吧~",iconMode:3})},fetchData:function(){var t=this;a.a.get("http://kandian.qq.com/cgi-bin/auditVideos/getRewardStatus",{needRewardHistoryList:0}).then(function(e){0==e.retcode?t.data=e.result:Object(c.f)({text:e.retmsg,iconMode:3})}).catch(function(t){Object(c.f)({text:"当前网络不可用，请检查你的网络",iconMode:3})})},T:function(t){var e=this,r=t.code,o=t.params;void 0===o&&(o={}),this.uin?(o.uin=this.uin,Object(i.a)(r,{r5:o})):viola.requireAPI("bridge").invoke({ns:"data",method:"getUserInfo"},function(t){e.uin=Object(n.a)(t.data).uin,o.uin=e.uin,Object(i.a)(r,{r5:o})})}}},f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"period border-line"},[r("text",{staticClass:"period_text"},[t._v("本期领奖期限："+t._s(t.endTimeStr)+" 24点前")])]),t._m(0),r("div",{staticClass:"form"},[r("div",{staticClass:"form_row border-line"},[r("text",{staticClass:"form_row_key"},[t._v("QQ号码")]),r("text",{staticClass:"form_row_value"},[t._v(t._s(this.uin||"-"))])])]),t._m(1),r("div",{staticClass:"button",class:{"button-disabled":t.data.isRewarded},on:{click:function(e){return e.stopPropagation(),t.confirm(e)}}},[r("text",{staticClass:"button_text",class:{"button_text-disabled":t.data.isRewarded}},[t._v("确认")])])])])};f._withStripped=!0;var p=r(1),l=r(51),h=Object(p.a)(u,f,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reward border-line"},[e("image",{staticClass:"reward_pic",attrs:{src:"http://sqimg.qq.com/qq_product_operations/kan/images/viola/video-progress_vvip_week-small.png"}}),e("div",{staticClass:"reward_info"},[e("text",{staticClass:"reward_info_name"},[this._v("腾讯视频VIP周卡")]),e("text",{staticClass:"reward_info_desc"},[this._v("有效期7天，自领取成功开始计算")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips"},[e("text",{staticClass:"tips_text"},[this._v("兑换仅限本QQ号码使用")])])}],!1,l,"data-v-241de919",null);h.options.__file="src/pages/auditReward/index.vue";var v=h.exports;new Vue({el:"#app",components:{cmp:v},render:function(t){return t(v)}})},3:function(t,e,r){"use strict";function n(t,e){if(t&&e){var r=viola.requireAPI("QReport");if(!r||!r.reportT)throw new Error("Native 没有提供大T");"undefined"!=typeof console&&console.info,r.reportT(t,e)}}r.d(e,"a",function(){return n})},4:function(t,e,r){"use strict";e.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,gt800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0}},methods:{compareVersion:function(t,e){t=t.split("."),e=e.split("."),t[2]="0."+t[2],e[2]="0."+e[2];for(var r=0;r<3;r++){if(parseFloat(t[r])>parseFloat(e[r]))return 1;if(parseFloat(t[r])<parseFloat(e[r]))return-1}return 0}}}},5:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0),i="data";function o(){return Object(n.b)(i,"getUserInfo")}},51:function(t,e){t.exports={wrapper:{style:{flex:"1",paddingTop:"0",paddingRight:"12dp",paddingBottom:"0",paddingLeft:"12dp",backgroundColor:"#ffffff"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},"border-line":{style:{borderBottomWidth:"0.5dp",borderBottomStyle:"solid",borderBottomColor:"#e5e5e5"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},period:{style:{paddingTop:"12dp",paddingRight:"0",paddingBottom:"12dp",paddingLeft:"0"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},period_text:{style:{color:"#262626",fontSize:"14dp",fontWeight:"bold"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},reward:{style:{flexDirection:"row",paddingTop:"12dp",paddingRight:"0",paddingBottom:"12dp",paddingLeft:"0",height:"77dp"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},reward_pic:{style:{width:"53dp",height:"53dp"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},reward_info:{style:{paddingLeft:"10dp",justifyContent:"center"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},reward_info_name:{style:{fontSize:"16dp",color:"#262626"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},reward_info_desc:{style:{marginTop:"4.5dp",fontSize:"12dp",color:"#737373"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},form:{style:{marginTop:"20dp"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},form_row:{style:{flexDirection:"row",paddingTop:"12dp",paddingRight:"0",paddingBottom:"12dp",paddingLeft:"0"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},form_row_key:{style:{fontSize:"17dp",color:"#262626",width:"86dp"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},form_row_value:{style:{marginLeft:"10dp",fontSize:"17dp",color:"#a6a6a6",fontWeight:"lighter"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},tips:{style:{paddingTop:"10dp",paddingRight:"0",paddingBottom:"10dp",paddingLeft:"0"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},tips_text:{style:{fontSize:"14dp",color:"#737373"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},button:{style:{marginTop:"22dp",height:"40dp",backgroundColor:"#12B7F5",borderRadius:"3dp",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},"button-disabled":{style:{backgroundColor:"#f2f2f2"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},button_text:{style:{color:"#f7f7f9",fontSize:"18dp",fontWeight:"200"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]},"button_text-disabled":{style:{color:"#a6a6a6"},scoped_id:"data-v-241de919",state:{},attrs:{},children:[]}}},6:function(t,e,r){"use strict";e.a={mounted:function(){var t=this;if(!this.violaT||!this.violaT.id)throw new Error("\n        Viola 页面上报缺乏数据, 请确认：\n        data () {\n          return {\n            violaT: {\n              id: 业务id\n            }\n          }\n        }\n      ");var e=this.violaT,r=e.id,n="Web"==ViolaEnv.platform?location.url:viola.pageData.url,i=e.hasCache||0;this._VT("0X8009854",{r5:{pageId:r,pageUrl:n}}),setTimeout(function(){var e=viola.requireAPI("bridge")||{};e.invoke&&e.invoke({ns:"data",method:"getPerformance"},function(e){var o=e.data;if(o){var a={pageId:r,pageUrl:n,hasCache:i,pageCost:o.pageCostTime||o.pageCost};o.jsCostTime&&(a.jsCost=o.jsCostTime),t._VT("0X8009853",{r5:a})}})},500)},methods:{_VT:function(t,e){var r=viola.requireAPI("QReport");r&&r.reportT(t,e)},_FCT:function(t){t&&(t.pageId=this.violaT&&this.violaT.id)&&t.time&&this._VT("0X8009855",{r5:t})}}}},8:function(t,e,r){"use strict";function n(t){return new Promise(function(e,r){viola.requireAPI("http").request(t,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?e(t.data):r(t.errorText)})})}function i(t,e){if(void 0===e&&(e={}),!t)throw TypeError("http Get require URL");return new Promise(function(r,n){viola.requireAPI("http").requestGet(t,e,function(t){"string"==typeof t&&(t=JSON.parse(t)),t.success?r(t.data):n(t.errorText)})})}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},9:function(t,e,r){"use strict";r.d(e,"c",function(){return a}),r.d(e,"b",function(){return d});var n=r(8),i=r(5),o={};function a(t){if(!t)return"";if(o[t])return o[t];for(var e,r=5381,n=0,i=t.length;n<i;++n)r+=(r<<5)+t.charAt(n).charCodeAt();return o[t]=e=2147483647&r,e}function d(t,e){return void 0===e&&(e={}),t?Object(i.a)().then(function(r){var i=r.skey;if(i){var o=a(i);return e.bkn=o,Object(n.b)(t,e)}return Promise.reject("Error: no skey")}):Promise.reject()}e.a={get:d}}});