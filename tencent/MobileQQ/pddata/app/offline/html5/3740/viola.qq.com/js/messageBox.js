!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=42)}([,function(e,t,i){"use strict";function r(e,t,i,r,n,o,a,s){var c=typeof(e=e||{}).default;"object"!==c&&"function"!==c||(e=e.default);var l="function"==typeof e?e.options:e;return t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId=o),l._stylesheet=n,{exports:e,options:l}}i.d(t,"a",function(){return r})},,function(e,t,i){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(e){for(var t={},i=0,r=e.length;i<r;i++)t[e.charAt(i)]=i;return t}(r),o=String.fromCharCode,a=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return o(240|t>>>18&7)+o(128|t>>>12&63)+o(128|t>>>6&63)+o(128|63&t)},s=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(e){return e.replace(s,a)},l=function(e){var t=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[r.charAt(i>>>18),r.charAt(i>>>12&63),t>=2?"=":r.charAt(i>>>6&63),t>=1?"=":r.charAt(63&i)].join("")},d="undefined"!=typeof window&&window.btoa?function(e){return window.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,l)},p=function(e){return d(c(e))},u=function(e,t){return e?t?p(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):p(String(e)):""},f=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),h=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return o(55296+(t>>>10))+o(56320+(1023&t));case 3:return o((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return o((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},m=function(e){return e.replace(f,h)},g=function(e){var t=e.length,i=t%4,r=(t>0?n[e.charAt(0)]<<18:0)|(t>1?n[e.charAt(1)]<<12:0)|(t>2?n[e.charAt(2)]<<6:0)|(t>3?n[e.charAt(3)]:0),a=[o(r>>>16),o(r>>>8&255),o(255&r)];return a.length-=[0,0,2,1][i],a.join("")},v=function(e){return e.replace(/[\s\S]{1,4}/g,g)},_=function(e){return e?function(e){return m(v(e))}(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")):""},b={VERSION:"2.1.9",atob:v,btoa:d,fromBase64:_,toBase64:u,utob:c,encode:u,encodeURI:function(e){return u(e,!0)},btou:m,decode:_};"undefined"!=typeof window&&(b.noConflict=function(){var e=window.Base64;return window.Base64=_Base64,e}),t.a=b},function(e,t,i){"use strict";t.a={data:function(){return{isIOS:"ios"==ViolaEnv.platform.toLowerCase(),isAndroid:"android"==ViolaEnv.platform.toLowerCase(),isWeb:"web"==ViolaEnv.platform.toLowerCase(),isIphoneX:1==ViolaEnv.iphoneX,isSmallIOS:"ios"==ViolaEnv.platform.toLowerCase()&&ViolaEnv.deviceWidth<=320}},methods:{compareVersion:function(e,t){e=e.split("."),t=t.split("."),e[2]="0."+e[2],t[2]="0."+t[2];for(var i=0;i<3;i++){if(parseFloat(e[i])>parseFloat(t[i]))return 1;if(parseFloat(e[i])<parseFloat(t[i]))return-1}return 0}}}},function(e,t,i){"use strict";var r={get:function(e){var t=this,i=e.url,r=e.data;void 0===r&&(r={});var n=e.success;void 0===n&&(n=function(){});var o=e.error;if(void 0===o&&(o=function(){}),i){var a=viola.requireAPI("http").requestGet;(0,viola.requireAPI("bridge").getUserInfo)(function(e){"string"==typeof e&&(e=JSON.parse(e));var s=e.skey;if(void 0!==s&&s){var c=t.bkn(s);r.bkn=c}a(i,r,function(e){"string"==typeof e&&(e=JSON.parse(e)),e.success?"function"==typeof n&&n(e.data):"function"==typeof o&&o(e)})})}},bkn:function(e){if(!e)return"";if(this.bknCache[e])return this.bknCache[e];for(var t,i=5381,r=0,n=e.length;r<n;++r)i+=(i<<5)+e.charAt(r).charCodeAt();return this.bknCache[e]=t=2147483647&i,t},bknCache:{}};t.a=r},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return n});var r=function(){var e=viola.pageData.url.split("?")[1];return e?e.split("&").reduce(function(e,t){if(t){var i=t.split("=");e[i[0]]=i[1]}return e},Object.create(null)):Object.create(null)}(),n=viola.pageData.param||viola.pageData.params||Object.create(null)},,function(e,t,i){"use strict";var r={MORE:"more",OVER:"over"},n={};n[r.MORE]="正在加载中，请稍后...",n[r.OVER]="无更多内容";var o={props:{type:{type:String,default:"more"},wording:{type:String}},computed:{text:function(){return this.wording||n[this.type]||""}},destroy:function(){n=null}},a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"14dp",marginTop:"15dp",marginBottom:"20dp"}},[t("text",{staticStyle:{fontSize:"13dp",color:"#777777",textAlign:"center"}},[this._v(this._s(this.text))])])};a._withStripped=!0;var s=i(1);i.d(t,"a",function(){return r});var c=Object(s.a)(o,a,[],!1,null,null,null);c.options.__file="src/component/Load/loadMore.vue";t.b=c.exports},function(e,t,i){"use strict";var r=i(3);t.a=function(e,t,i){var n="http://c.mp.qq.com/cgi-bin/report/ugc_data_push?appid=1&push_type=public_article&data=";if(e&&""!=e)if(i)a(i);else{var o=viola.requireAPI("bridge");o&&o.getUserInfo&&o.getUserInfo(function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.uin;void 0!==t&&null!==t&&a(t)})}function a(i){var o=function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[r]:("00"+i[r]).substr((""+i[r]).length)));return t}(new Date,"yyyy-MM-dd hh:mm:ss"),a="uin="+i+"&op_type="+e+"&op_name="+e+"&time="+o;if(t)for(var s in t)void 0!==t[s]&&(a+="&"+s+"="+t[s]);var c=r.a.encode(a),l=n+c;"Web"==ViolaEnv.platform?(new Image).src=l:viola.requireAPI("http").requestGet(l,{})}}},function(e,t,i){"use strict";function r(e,t){var i=viola.requireAPI("cache");i&&i.setItem&&i.setItem(e,JSON.stringify(t))}function n(e,t){var i=viola.requireAPI("cache");i&&i.getItem&&i.getItem(e,function(e){var i=e;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){Viola.nativeLog(e.toString(),3)}t(i)})}i.d(t,"b",function(){return r}),i.d(t,"a",function(){return n})},function(e,t,i){0},,function(e,t,i){"use strict";var r={isPgc:[0,6,7,8,9,10,12,16,17],isUgc:[4,5,18,19,30,31],isBiu:[1],isTopic:[11],isAccRecmd:[25],isLink:[27]},n={};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return!1;var n,o,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);for(;s<r;){if((n=i[s])===(o=e)||"number"==typeof n&&"number"==typeof o&&isNaN(n)&&isNaN(o))return!0;s++}return!1}});var o=function(e){n[e]=function(t){return t=parseInt(t),r[e].includes(t)}};for(var a in r)o(a);n.isWenda=function(e){return[1,2].includes(e.ugcInfo.ugcBusinessType)},n.isPicset=function(e){return 3===e.picShowType},t.a=n},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(6);i.d(t,"b",function(){return r.b});var n="undefined"!=typeof ViolaEnv&&"iOS"===ViolaEnv.platform},,function(e,t,i){"use strict";function r(e,t,i){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=!0),viola.requireAPI("bridge").invoke({ns:"debug",method:"detailLog",params:{id:"kandian",subid:e,content:t,isall:i}})}i.d(t,"a",function(){return r})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r="https://kandian.qq.com/mqq/vue/sixinBoard?_wv=3&adfrom=messageBox&x5PreFetch=1&_bid=2378&accountId={0}"},,,,function(e,t,i){"use strict";var r={props:{wording:{type:String,default:"暂时没有内容"}}},n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty"},[t("image",{staticStyle:{width:"150dp",height:"100dp"},attrs:{resize:"cover",src:"http://sqimg.qq.com/qq_product_operations/kan/images/topic_empty.png"}}),t("text",{staticStyle:{marginTop:"20dp",color:"#BBBBBB",fontSize:"16dp",textAlign:"center"},attrs:{value:this.wording}})])};n._withStripped=!0;var o=i(1),a=i(25),s=Object(o.a)(r,n,[],!1,a,"data-v-53b648be",null);s.options.__file="src/component/emptyPage.vue";t.a=s.exports},function(e,t,i){"use strict";var r={props:{text:{type:String,default:"网络异常，稍后再试_(:3」∠)_"}},methods:{click:function(e){this.$emit("pageClick",e)}}},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"error-page",on:{click:function(t){return t.stopPropagation(),e.click(t)}}},[i("image",{staticClass:"error-logo",attrs:{resize:"cover",src:"data:image/png;base64,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"}}),i("text",{staticClass:"error-wording"},[e._v(e._s(e.text))])])};n._withStripped=!0;var o=i(1),a=i(24),s=Object(o.a)(r,n,[],!1,a,"data-v-4196e096",null);s.options.__file="src/component/Error/errorPage.vue";t.a=s.exports},function(e,t,i){"use strict";var r=i(5),n=i(13),o="http://kandian.qq.com/qz_kandian_social/kandian_ext/GetVideoOneDragThree";i(3);function a(e){!function(e,t){if(void 0!==e&&null!=e){var i={};n.a.isUgc(e.feedsType)||1==e.feedsType&&n.a.isUgc(e.originFeedsType)?i={feedsid:e.feedsId,feedstype:e.feedsType,originfeedsid:e.originFeedsId,originfeedstype:e.originFeedsType}:i.articleid=e.articleId;var a={url:o,data:i};"function"==typeof t&&(a.success=function(e){var i;if(e&&0===e.retcode){var r=e.result;i=r&&0==r.retCode&&r.retObj?{data:r.retObj}:{err:r.retMsg}}else i={err:e.retMsg};t(i)}),r.a.get(a)}}(e,function(t){!function(e,t){var i=e.data,r=e.err,n=viola.requireAPI("bridge");if(r||!i)n.openUrl(t.articleUrl);else{var o=function(e){if(e)switch(e){case"topic":return 101;case"main":return 107;case"dianDianPage":case"hotBiuPage":return 109}return 100}(t.pageName),a={from_viola:1,title:i.title,share_url:i.share_url,video_create_time:i.video_create_time+"",video_duration:i.video_duration+"",video_width:i.video_width+"",video_height:i.video_height+"",video_vid:i.video_vid?i.video_vid+"":"",video_cover:t.cover_url||i.video_cover,innerUniqueID:i.innerUniqueID,busitype:i.busitype+"",account_name:i.account_name,account_uin:i.account_uin+"",third_icon_url:i.third_icon_url||"",third_name:i.third_name||"",third_jump_url:i.third_jump_url||"",video_url:i.video_url,biudata:"",video_from_type:o?o+"":"",is_show_readinjoy_entrance:"0",commondata:"",from_frame:"iOS"==ViolaEnv.platform&&t.frame?{x:t.frame.x,y:t.frame.y,width:"50dp",height:"50dp"}:{}};t.feedsType&&(-1!==[4,5,18,19].indexOf(t.feedsType)?(a.feedsid=i.feedsId,a.feedstype=i.feedsType):1==t.feedsType&&-1!==[4,5,18,19].indexOf(t.originFeedsType)&&(a.feedsid=i.originFeedsId,a.feedstype=i.originFeedsType)),t.commentId&&(a.commentId=t.commentId),n&&n.openVideo&&n.openVideo(a)}}(t,e)})}i.d(t,"a",function(){return a})},function(e,t){e.exports={"error-page":{style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0",backgroundColor:"#ffffff",flexDirection:"column",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]},"error-logo":{style:{width:"100dp",height:"100dp"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]},"error-wording":{style:{marginTop:"20dp",color:"#BBBBBB",fontSize:"16dp",textAlign:"center"},scoped_id:"data-v-4196e096",state:{},attrs:{},children:[]}}},function(e,t){e.exports={empty:{style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0",backgroundColor:"#ffffff",flexDirection:"column",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-53b648be",state:{},attrs:{},children:[]}}},function(e,t){e.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t,i){"use strict";function r(e){void 0===e&&(e={}),e.url&&(e.url.indexOf("https:")<0&&(e.url="https:"+e.url),viola.requireAPI("http").request({url:e.url,method:"get",headers:{Referer:e.headers.Referer||"https://kandian.qq.com/kandian/viola_test.html",Origin:e.headers.Origin||"https://kandian.qq.com"},data:{}},function(t){e.callback&&e.callback(t)}))}i.d(t,"a",function(){return r})},function(e,t,i){"use strict";function r(e){if(!e)return{};var t={};if("object"==typeof e)return e;try{t=JSON.parse(e)}catch(e){}return"string"==typeof t?{}:t}function n(e,t){var i,r,n;if(void 0===t&&(t=""),!t)return"";n=(i=t.match(/\?[^#]+/))?i[0]:"",i=n.match(new RegExp("(?:\\?|&)"+e+"=([^&]*)(&|$)"));try{r=i?decodeURIComponent(i[1]):""}catch(e){r=""}return String(r)}i.r(t);var o=viola.requireAPI("http"),a=("undefined"!=typeof ViolaEnv&&ViolaEnv.platform,"undefined"!=typeof ViolaEnv&&"Android"===ViolaEnv.platform),s=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,c="source protocol user pass host port path".split(" "),l=function(e){void 0===e&&(e={}),this._globalOptions={},this.listening=!1,this.beginTime=Date.now(),e.dsn&&this.setDSN(e.dsn),this.globalConfig(e)};l.prototype.globalConfig=function(e){for(var t in void 0===e&&(e={}),e)e.hasOwnProperty(t)&&(this[t]=e[t])},l.prototype.config=function(e,t){void 0===t&&(t={}),this.setDSN(e),this.globalConfig(t)},l.prototype.stop=function(){this.stopReport=!0},l.prototype.restart=function(){this.stopReport=!1},l.prototype.judgeReport=function(){return!this.stopReport&&(!this.sampleRate||Math.random()<this.sampleRate)},l.prototype._getGlobalServer=function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},l.prototype._parseDSN=function(e){var t=s.exec(e),i={},r=7;try{for(;r--;)i[c[r]]=t[r]||""}catch(e){return null}return i.pass&&!this._globalOptions.allowSecretKey?null:i},l.prototype.setDSN=function(e){var t=this._parseDSN(e),i=t.path.lastIndexOf("/"),r=t.path.substr(1,i);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(i+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/";var n,o={sentry_version:"7",sentry_client:"raven-js/3.27.0",sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret),this._globalUrl=this._globalEndpoint+"?"+(n=[],function(e,t){var i,r;if(void 0===e.length)for(i in e)e.hasOwnProperty(i)&&t.call(null,i,e[i]);else if(r=e.length)for(i=0;i<r;i++)t.call(null,i,e[i])}(o,function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&"))},l.prototype.listen=function(e){var t=this;this.listening||(viola.on("error",function(i){i=r(i),t.handleNativeCallException(i.data),e&&e(i)}),viola.on("update",function(i){"error"===(i=r(i)).type&&(t.handleNativeCallException(i.data),e&&e(i))}),this.listening=!0)},l.prototype.handleNativeCallException=function(e){try{if("string"==typeof e){var t={};t.type="[onerror]"+e,t.value="[onerror]"+e,t.stacktrace={frames:[]},this.report(t,{from:"onerror"})}else if(a){var i={},r={},n=e.error.split("\n").filter(function(e){return!!e}),o=/(^.*?)\:([0-9]+)\:([0-9]+)$/i,s=/viola_main\.js/;i.stacktrace={frames:[]},i.type="[onerror]"+n[0],i.value="[onerror]"+n[0];for(var c=0;c<n.length;c+=1){var l,d=n[c],p=o.exec(d);l=p&&p.length?{filename:s.test(p[1])?"http://sqimg.qq.com/qq_product_operations/kan/violaLibs/Viola.min.0.3.10.js":viola.pageData.url,function:p[1],lineno:p[2],colno:p[3]}:{filename:s.test(d+"")?"http://sqimg.qq.com/qq_product_operations/kan/violaLibs/Viola.min.0.3.10.js":viola.pageData.url,function:d+""},i.stacktrace.frames.push(l)}e.tags&&(r=e.tags),this.report(i,{from:"onerror",tags:r})}else{var u={},f={};u.type="[onerror]"+e.error,u.value="[onerror]"+e.error,u.stacktrace={frames:[]},e.tags&&(f=e.tags),this.report(u,{from:"onerror",tags:f})}}catch(e){}},l.prototype.captureException=function(e,t){if(void 0===t&&(t={}),e){if("string"==typeof e)return this.handleNativeCallException(e);var i=this.createReportValue(t);i.type="[catched][js_error]_line_"+e.line+"_column_"+e.column+" "+i.type,i.value="[catched][js_error]_line_"+e.line+"_column_"+e.column+" "+i.value,i.stacktrace.frames.unshift({filename:viola.pageData.url,function:"This is a js error catched by the developer",lineno:e.line,colno:e.column}),this.report(i,{tags:t.tags})}},l.prototype.createReportValue=function(e){void 0===e&&(e={});var t={};if(t.type=e.type,t.value=e.value,t.stacktrace={frames:[]},e.frames&&e.frames instanceof Array)for(var i=0;i<e.frames.length;i+=1){var r=e.frames[i];t.stacktrace.frames.push({filename:r.filename||viola.pageData.url,function:r.function||r.content,lineno:r.lineno,colno:r.colno})}return t},l.prototype.userReport=function(e){void 0===e&&(e={});var t=this.createReportValue(e);this.report(t,{tags:e.tags})},l.prototype.report=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),this.judgeReport()&&this._globalUrl){var i=n("v_tid",viola.pageData.url)+"_"+n("v_bundleName",viola.pageData.url),r={project:"2",logger:"javascript",platform:"javascript",tags:{appVersion:ViolaEnv.appVersion,appName:ViolaEnv.appName,osVersion:ViolaEnv.osVersion,violaVersion:ViolaEnv.violaVersion,isDebug:ViolaEnv.isDebug,uin:viola.pageData.uin,business:i,platform:ViolaEnv.platform},request:{url:viola.pageData.url},exception:{values:[e]},transaction:viola.pageData.url,extra:{"session:duration":this.beginTime?Date.now()-this.beginTime:0},event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};"onerror"===t.from&&(r.exception.mechanism={type:"onerror",handled:!1}),t.tags&&"object"==typeof t.tags&&(r.tags=Object.assign({},r.tags,t.tags)),o.request({url:this._globalUrl,method:"post",headers:{"Content-Type":"application/json"},data:r},function(e){})}};var d=l;i.d(t,"default",function(){return d})},function(e,t,i){"use strict";i.r(t);var r=i(0);"function"!=typeof Object.assign&&(Object.assign=function(e){var t=arguments;if(!e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var i=1;i<arguments.length;i++){var r=t[i];if(r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e});var n={baseURL:"//report.huatuo.qq.com/report.cgi?"},o=function(e){void 0===e&&(e={}),this.config=this.config.bind(this),this.configHeaders=this.configHeaders.bind(this),this.getHeaders=this.getHeaders.bind(this),this.getBaseParams=this.getBaseParams.bind(this),this.transToURL=this.transToURL.bind(this),this.config(e)};o.prototype.transToURL=function(e,t){if(void 0===t&&(t={}),e){var i={apn:t.apn||e.apn,appid:t.appid||e.appid,platform:t.platform||t.platform||"undefined"!=typeof ViolaEnv&&ViolaEnv&&"iOS"===ViolaEnv.platform?"ios":"android",speedparams:{flag1:e.flag1,flag2:e.flag2,flag3:e.flag3},t:Date.now()};return Object.assign(i.speedparams,e.timingObj),n.baseURL+function e(t){var i,r=[];if("object"!=typeof t)return encodeURIComponent(String(t));for(i in t)t.hasOwnProperty(i)&&void 0!==t[i]&&r.push(encodeURIComponent(String(i))+"="+encodeURIComponent(e(t[i])));return r.join("&")}(i)}},o.prototype.getLength=function(e,t){for(var i=this.transToURL([e],t),r=0,n=0;n<i.length;n++)r+=i[n].length;return r},o.prototype.configHeaders=function(e){void 0===e&&(e={}),this.headers=Object.assign({},this.headers||{},e)},o.prototype.getHeaders=function(){return this.headers||{}},o.prototype.config=function(e){void 0===e&&(e={}),this.baseURL=e.baseURL,e.headers&&this.configHeaders(opt.headers),e.baseParams&&"object"==typeof e.baseParams&&(this.baseParams=e.baseParams)},o.prototype.getBaseParams=function(){return this.baseParams||{}};var a=new o(n);function s(e,t,i){var n=a.getBaseParams(),o=null;if("[object Object]"===Object.prototype.toString.call(e))o=Object.assign({},n,e);else{var s={};s[t]=i,o=Object.assign({},n,{flag3:e},{timingObj:s})}var c=a.transToURL(o),l={};l.headers=Object.assign({},a.getHeaders()),Object(r.a)(Object.assign({},{url:c},l))}s.config=a.config,s.configHeaders=a.configHeaders;var c=s;i.d(t,"default",function(){return c})},function(e,t,i){"use strict";i.r(t);var r=i(0),n=function(e){void 0===e&&(e={}),this.config=this.config.bind(this),this.configHeaders=this.configHeaders.bind(this),this.getHeaders=this.getHeaders.bind(this),this.transToURL=this.transToURL.bind(this),this.config(e),this.headers={Referer:"https://buluo.qq.com/mobile/v2/detail.html",Origin:"https://buluo.qq.com"}};n.prototype.transToURL=function(e,t){"string"!=typeof e&&"number"!=typeof e||(e=[e]);var i=e||[];return i.length?(t||this.baseURL)+"["+i+"]&t="+Date.now():""},n.prototype.getLength=function(e){return this.transToURL([e]).length},n.prototype.configHeaders=function(e){void 0===e&&(e={}),this.headers=Object.assign({},this.headers||{},e)},n.prototype.getHeaders=function(){return this.headers||{}},n.prototype.config=function(e){void 0===e&&(e={}),this.baseURL=e.baseURL,e.headers&&this.configHeaders(opt.headers)};var o=new n({baseURL:"//buluo.qq.com/cgi-bin/bar/tdw/reportV2?monitorids="});function a(e,t,i){void 0===i&&(i={});var n=o.transToURL(e,t,i),a=Object.assign({},i);a.headers=Object.assign({},o.getHeaders(),i.headers||{}),Object(r.a)(Object.assign({},{url:n},a))}a.config=o.config,a.configHeaders=o.configHeaders;var s=a;i.d(t,"default",function(){return s})},,,,function(e,t,i){"use strict";i.r(t);var r=i(1),n=i(3),o=i(2);t.default={Sentry:r.default,sentry:r.default,monitor:n.default,huatuo:o.default}}])},,,,,,,,,,function(e,t){e.exports={show_all:{style:{height:"55dp",borderColor:"#ededed",borderTopWidth:"1dp",borderBottomWidth:"1dp",backgroundColor:"#ffffff"},scoped_id:"data-v-690b076a",state:{},attrs:{},children:[]},show_all_text:{style:{lineHeight:"55dp",textAlign:"center",fontSize:"14dp",color:"#777777"},scoped_id:"data-v-690b076a",state:{},attrs:{},children:[]}}},function(e,t){e.exports={msg_cell:{style:{paddingLeft:"12dp",paddingTop:"20dp",paddingRight:"0",paddingBottom:"0",flexDirection:"row"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},img:{style:{width:"30dp",height:"30dp",borderRadius:"30dp"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content:{style:{flex:"1",marginLeft:"7dp",paddingBottom:"10dp",paddingRight:"12dp",borderColor:"#ededed",borderBottomWidth:"0.8dp"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content_title:{style:{height:"30dp",justifyContent:"center"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content_title_text:{style:{fontSize:"14dp",color:"#737373",marginTop:"-4dp"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content_desc:{style:{fontSize:"16dp",lineHeight:"22dp",color:"#262626"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content_url:{style:{marginTop:"10dp",fontSize:"14dp",color:"#285c95"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},"content_url-800":{style:{marginTop:"10dp",fontSize:"14dp",color:"#4799DF"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]},content_time:{style:{fontSize:"12dp",marginTop:"8dp",color:"#bbbbbb"},scoped_id:"data-v-15e79d08",state:{},attrs:{},children:[]}}},function(e,t){e.exports={msg_cell:{style:{paddingLeft:"12dp",paddingTop:"20dp",paddingRight:"0",paddingBottom:"0",flexDirection:"row"},scoped_id:"data-v-5cbd1b3c",state:{},attrs:{},children:[]},img:{style:{width:"30dp",height:"30dp",borderRadius:"30dp"},scoped_id:"data-v-5cbd1b3c",state:{},attrs:{},children:[]},content:{style:{flex:"1",marginLeft:"8dp",paddingTop:"3dp",paddingBottom:"10dp",paddingRight:"12dp",borderColor:"#ededed",borderBottomWidth:"0.8dp"},scoped_id:"data-v-5cbd1b3c",state:{},attrs:{},children:[]},content_time:{style:{fontSize:"12dp",marginTop:"8dp",color:"#bbbbbb"},scoped_id:"data-v-5cbd1b3c",state:{},attrs:{},children:[]}}},function(e,t){e.exports={header:{style:{fontSize:"14dp",color:"#4c4c4c",ellipsisColor:"#4c4c4c",textOverflow:"ellipsis"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},btn:{style:{position:"absolute",top:"0",right:"0",width:"50dp",height:"23dp",borderRadius:"2dp",justifyContent:"center",alignItems:"center"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},operation:{style:{fontSize:"14dp",color:"#737373"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},no_follow:{style:{backgroundColor:"#12B7F5"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},no_follow_text:{style:{color:"#ffffff",fontSize:"11dp"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},has_follow:{style:{backgroundColor:"#ffffff",borderWidth:"0.8dp",borderStyle:"solid",borderColor:"#e6e6e6"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},has_follow_text:{style:{color:"#737373",fontSize:"11dp"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},user_name:{style:{color:"#4D7CAF"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},"user_name-800":{style:{color:"#4799DF"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]},special_mark:{style:{backgroundColor:"#fee9de",height:"18dp",color:"#FF8444",fontSize:"12dp",borderRadius:"2dp",textAlign:"center",paddingTop:"3dp",paddingBottom:"3dp",paddingLeft:"5dp",paddingRight:"5dp"},scoped_id:"data-v-26f5de67",state:{},attrs:{},children:[]}}},function(e,t){e.exports={cmp:{style:{marginTop:"10dp",backgroundColor:"#f7f7f7",flexDirection:"row",alignItems:"center"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},cmp_content:{style:{paddingRight:"9dp",paddingLeft:"9dp",paddingTop:"3dp",paddingBottom:"3dp",justifyContent:"center",flex:"1"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},cmp_content_hasGif:{style:{paddingTop:"7dp",paddingBottom:"8dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},cmp_title:{style:{fontSize:"14dp",color:"#666666",lines:"1",textOverflow:"ellipsis",lineHeight:"20dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},desc:{style:{fontSize:"12dp",color:"#999999",lines:"1",textOverflow:"ellipsis",marginTop:"4dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},img:{style:{width:"50dp",height:"50dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},"pic-wrapper":{style:{position:"relative",height:"90dp",marginTop:"6dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},pic:{style:{height:"90dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]},"pic-brand":{style:{position:"absolute",right:"5dp",bottom:"5dp",width:"28dp",paddingTop:"2dp",paddingBottom:"2dp",fontSize:"10dp",color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",textAlign:"center",borderRadius:"2dp"},scoped_id:"data-v-7c1cb05c",state:{},attrs:{},children:[]}}},function(e,t){e.exports={delete_text:{style:{backgroundColor:"#f2f2f2",paddingTop:"4.5dp",paddingBottom:"4.5dp",paddingLeft:"5dp",paddingRight:"5dp",color:"#737373",fontSize:"13dp",alignSelf:"flex-start",borderRadius:"2dp"},scoped_id:"data-v-1d9a0c16",state:{},attrs:{},children:[]},"pic-wrapper":{style:{position:"relative",height:"90dp",marginTop:"6dp"},scoped_id:"data-v-1d9a0c16",state:{},attrs:{},children:[]},pic:{style:{height:"90dp"},scoped_id:"data-v-1d9a0c16",state:{},attrs:{},children:[]},"pic-brand":{style:{position:"absolute",right:"5dp",bottom:"5dp",width:"28dp",paddingTop:"2dp",paddingBottom:"2dp",fontSize:"10dp",color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",textAlign:"center",borderRadius:"2dp"},scoped_id:"data-v-1d9a0c16",state:{},attrs:{},children:[]}}},function(e,t,i){"use strict";i.r(t);i(11);var r,n,o="msgbox_cache_key",a="盒子空空如也~",s="您当前网速较慢或系统错误，请重试",c="评论已删除",l={1:"biu已删除",2:"评论已删除",3:"回复已删除",4:"回答已删除",5:"留言已删除"},d={1:"原评论已删除",2:"你已删除该内容",3:"原内容已删除",4:"该问题已删除"},p={1:"原评论已删除",2:"你已删除该内容",3:"原内容已被删除",4:"问题已删除"},u={};u[1]=((r={default:"赞了你的Biu"})[4]="赞了你的发布",r[5]="赞了你的发布",r),u[2]={default:"评论你"},u[3]={default:"回复你"},u[4]={default:"Biu了你的内容",biuPublish:"Biu了你的发布"},u[5]={default:"回复你"},u[6]={default:"关注了你"},u[7]={default:"提到了你"},u[8]={default:"赞了你的评论"},u[200]={default:"大神，快来回答下这个问题吧～"},u[201]={default:"回答了你的问题"},u[202]={default:"赞同了你的回答"};var f={};f[1]=((n={default:"赞了你的Biu"})[4]="赞了你",n[5]="赞了你",n),f[8]={default:"赞了你的评论"};var h={1:"赞了你",2:"评论了你",3:"回复了你",4:"Biu了你",5:"回复了你",6:"关注了你",7:"@了你",8:"赞了你",200:"邀请你回答",201:"回答了你",202:"赞同了你",300:"给你留言"},m="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_wenda.png",g="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_article.png",v="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_delete.png",_="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_refuse.png",b={};b[1]={title:d[1],src:v},b[2]={title:d[2],src:v},b[3]={title:d[3],src:v},b[4]={title:d[4],src:_};var y=i(17),x="https://kandian.qq.com/cgi-bin/social/getMessageBox",w="https://kandian.qq.com/mqq/vue/comment?_wv=3&_bid=2378&adfrom=messageboxvue&x5PreFetch=1&uin={0}&feeds_id={1}&feedstype={2}",k="mqqapi://readinjoy/openatlas?src_type=internal&version=1&rowkey={0}&albumStyle=1",A="mqqapi://readinjoy/openarticle?src_type=internal&version=1&rowkey={0}&url={1}&fromType=1",S=i(10),D=i(14);function C(e,t,i){return void 0===i&&(i=/\{(.+?)\}/gi),e.replace(i,function(e,i){return i&&(i=i.trim())&&void 0!==t[i]?t[i]:e})}var I="https://kandian.qq.com/mqq/vue/main?_wv=10145&_bid=2378&adfrom=main&x5PreFetch=1&accountId={0}";function T(e,t){if(void 0===t&&(t=null),e){var i=viola.requireAPI("bridge");i&&i.openUrl&&i.openUrl(e,t)}}var q=i(5),L=i(8),O=i(22),j=i(21),U=i(9),E=i(4),P={mixins:[E.a],props:["cellData"],computed:{msgDesc:function(){var e=this.cellData.desc,t=this.cellData.ugcInfo,i=this.cellData.title;return i=i&&"系统通知"!==i?i+"\n":"",t&&t.ugcAtLevelList&&t.ugcAtLevelList.length>0?i+e.replace("<$MSG>",this.collapseHandler(t.ugcAtLevelList,t.ugcComment)):i+e}},methods:{urlClick:function(){var e=this.cellData.url,t={type:this.cellData.urlJumpType,isIOS:this.isIOS,schema:this.cellData.schemaUrl};e&&this.$emit("cellClick",{url:e,opts:t}),this.reportClick()},collapseHandler:function(e,t){var i=JSON.parse(JSON.stringify(e));void 0!==i&&null!=i&&(i=i.reverse()),i.length>0&&"："==i[0].biuLevel_comment.substring(0,1)&&(i[0].biuLevel_comment=i[0].biuLevel_comment.slice(1)),e.length||i.push({biuLevel_comment:t,op_type:0});var r=0;if(null!=i&&void 0!=i){for(var n=0;n<i.length;n++){r+=i[n].op_type;for(var o=i[n].biuLevel_comment.replace(/\n(\n)+/g,"\n\n"),a=0;a<o.length;a++)if((r+="\n"===o[a]||"\r"===o[a]?4:1)>140){a-=1;break}if(a!==o.length){"\ud83d"!==o[a]&&"\ud83c"!==o[a]||(a-=1),""===o[a]&&(a-=1),""===o[a-1]&&(a-=2),i[n].biuLevel_comment=o.slice(0,a+1),i[n].biuLevel_comment+="...",i=i.slice(0,n+1);break}i[n].biuLevel_comment=o}for(var s="",c=0;c<i.length;c++){var l=i[c];if(0!=c){var d=l.op_type;s+=2==d||3==d?l.jumpName:"@"+(l.biuLevel_remark||l.biuLevel_nick)}l.biuLevel_comment&&(s+=" "+l.biuLevel_comment+" ")}return s}},reportClick:function(){var e=viola.pageData.uin,t=this.cellData;Object(U.a)("0X8009A87",{r1:e,r2:viola.reddot_num,r3:viola._entry,r4:viola.msg_status,r5:t.type,r6:0,r7:t.feeds_id,r8:t.feedsType,r9:t.originFeedsId,r10:t.originFeedsType,r11:t.sysMsgActivityID,r12:t.sysMsgFrom},e)},cellAppear:function(){if(!this._appear){this._appear=1;var e=viola.pageData.uin,t=this.cellData;Object(U.a)("0X8009A86",{r1:e,r2:viola.reddot_num,r3:viola._entry,r4:viola.msg_status,r5:t.type,r7:t.feeds_id,r8:t.feedsType,r11:t.sysMsgActivityID,r12:t.sysMsgFrom},e)}}}},R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cell",{staticClass:"msg_cell",on:{click:function(t){return t.stopPropagation(),e.urlClick(t)},appear:e.cellAppear}},[e._m(0),i("div",{staticClass:"content"},[e._m(1),e.cellData.desc?i("text",{staticClass:"content_desc"},[e._v(e._s(e.msgDesc))]):e._e(),e.cellData.url?i("text",{class:e.gt800?"content_url-800":"content_url",on:{click:function(t){return t.stopPropagation(),e.urlClick(t)}}},[e._v("查看详情 >")]):e._e(),i("text",{staticClass:"content_time"},[e._v(e._s(e.cellData.timeTips))])])])};R._withStripped=!0;var B=i(1),N=i(37),V=Object(B.a)(P,R,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("image",{staticClass:"img",attrs:{src:"https://sqimg.qq.com/qq_product_operations/kan/images/messge_system_icon.png?_bid=2378",resize:"cover"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content_title"},[t("text",{staticClass:"content_title_text",attrs:{value:"系统消息"}})])}],!1,N,"data-v-15e79d08",null);V.options.__file="src/pages/messageBox/systemCell.vue";var F=V.exports,M=i(23),z=i(3),Q=i(13);var H=i(16);function W(e,t){Object(H.a)("messageBox",JSON.stringify({type:e,info:t}))}var J={mixins:[E.a],props:["info","outerDelete"],data:function(){return{isIOS:D.a,followInfo:{}}},computed:{iconUrl:function(){if(!this.outerDelete){var e={};return e[1]=e[8]=e[202]="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox-icon-like.png",e[4]="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox-icon-biu.png",e[this.info.type]}},userList:function(){var e=this.info,t=e.type,i=null;if(-1!=[1,8,200,201].indexOf(t)){var r=this.info.likeList.length<=1?[]:this.info.likeList;!r.length&&r.push({remark:e.remark||e.nick||"QQ用户",uin:e.uin});var n=r.length-1;i=r.reduce(function(e,t,i){return e.push({name:t.remark||t.nick||"QQ用户",uin:t.uin}),i<n&&(i==n-1?e.push(" 和 "):e.push("、")),e},[])}else{var o=this.info;i=[{name:-1!==[9,10,11,12].indexOf(t)?o.title:o.remark||o.nick||"QQ用户",uin:this.info.uin}]}return 1===i.length&&i[0].name&&i[0].name.length>12&&(i[0].name=i[0].name.substring(0,12)+"..."),i},likeNum:function(){return" 等"+this.info.likeNum+"位用户"},isShowBtn:function(){var e=this.info;return!(6!==e.type||1!==e.followStatus||!this.updateFollowInfo(e.followStatus))},isShowMark:function(){return 5===this.info.type},headerRichTextStyle:function(){return this.isShowMark?{lines:1,textOverflow:"ellipsis",alignSelf:"center"}:this.isShowBtn?{lines:1,paddingRight:"65dp"}:{flex:1}},operationStr:function(){var e=this.info,t=e.type;if(this.outerDelete)return"";if(1==t||8==t){var i=f[t];return i[e.feedsType]||i.default}return 6===t?"":h[e.type]}},methods:{updateFollowInfo:function(e){if(void 0===e)return null;var t,i,r;switch(e){case 1:r=0,t="+ 关注",i="no_follow";break;case 2:case 3:r=1,t="已关注",i="has_follow"}return t?this.followInfo={status:e,text:t,klass:i,hasFollow:r}:null},jumpUserPage:function(e){var t=e.uin;t&&this.$emit("jumpToUser",t)},follow:function(){var e=this.followInfo;e&&!e.hasFollow?(this.updateFollowInfo(2),viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:"关注成功",iconMode:3}})):(this.updateFollowInfo(1),viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:"已取消关注",iconMode:3}}));var t=viola.pageData.uin,i=z.a.decode(this.info.uin);if(t)if(i){var r=viola.requireAPI("bridge");r.invoke&&r.invoke({ns:"data",method:"ssoRequest",params:{cmd:"JsOidbProxy.oidb_0x978_0",host:"kandian.qq.com",data:{body:{uint64_uin:parseInt(t),msg_req_follow_para:{rpt_follow_operation_info:[{uint64_dst_uin:parseInt(i),uint32_op_account_type:2}],op_type:3}}}}},function(e){W("关注结果",e)}),this.$emit("follow")}else W("没有 follow uin",this.info)}}},X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{flexDirection:"row",paddingBottom:"8.7dp"}},[i("div",{staticStyle:{flex:"1",flexDirection:"row"}},[i("richtext",{staticClass:"header",style:e.headerRichTextStyle},[e._l(e.userList,function(t,r){return i("span",{key:r,class:{user_name:"string"==typeof t.uin,"user_name-800":"string"==typeof t.uin&&e.gt800},on:{click:function(i){i.stopPropagation(),e.jumpUserPage(t)}}},[e._v(e._s(t.name||t))])}),e.info.likeNum>3?i("span",{staticClass:"like_num"},[e._v(e._s(e.likeNum))]):e._e(),!e.isShowMark&&e.operationStr?i("span",{staticClass:"operation",staticStyle:{marginLeft:"8dp"}},[e._v(e._s(" "+e.operationStr+" "))]):e._e(),e.isIOS&&!e.isShowMark&&e.iconUrl?i("image",{staticStyle:{marginLeft:"4dp",width:"14.5dp",height:"14.5dp",imageAlign:"center"},attrs:{src:e.iconUrl}}):e._e()],2),e.isShowMark?i("text",{staticClass:"special_mark",staticStyle:{marginLeft:"2dp"},attrs:{value:"作者"}}):e._e(),e.isShowMark&&e.operationStr?i("text",{staticClass:"operation",staticStyle:{marginLeft:"5dp",alignSelf:"center"},attrs:{value:e.operationStr}}):e._e(),e.isIOS&&e.isShowMark&&e.iconUrl?i("image",{staticStyle:{marginLeft:"4dp",width:"14.5dp",height:"14.5dp",alignSelf:"center"},attrs:{src:e.iconUrl}}):e._e()],1),e.isShowBtn?i("div",{staticClass:"btn",class:e.followInfo.klass,on:{click:function(t){return t.stopPropagation(),e.follow(t)}}},[i("text",{class:e.followInfo.klass+"_text",attrs:{value:e.followInfo.text}})]):e._e()])};X._withStripped=!0;var G=i(39),Y=Object(B.a)(J,X,[],!1,G,"data-v-26f5de67",null);Y.options.__file="src/pages/messageBox/msgHeader.vue";var K=Y.exports,Z={mixins:[E.a],props:["info","communityInfo"],data:function(){return{gt799:this.compareVersion(ViolaEnv.appVersion,"7.9.9")>=0,picWidth:"90dp",picSuccess:!1}},computed:{iconInfo:function(){switch(this.info.iconType){case"video":return{src:"http://sqimg.qq.com/qq_product_operations/kan/images/video-icon-min.png",style:{width:"12dp",height:"15dp",top:"17.5dp",left:"20dp"}};case"live":return{src:"http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_live_icon.png",style:{width:"16dp",height:"12dp",top:"19dp",left:"17dp"}};default:return null}}},methods:{cmpClick:function(e){this.$emit("cmpClick",e)},onPicFinish:function(e){if(e.success){if(this.picSuccess=!0,e.image.height==e.image.width)return this.picWidth="90dp";this.picWidth=90/e.image.height*e.image.width+"dp"}},showPicture:function(e){e.stopPropagation(),viola.requireAPI("bridge").invoke({ns:"media",method:"showPicture",params:{imageIDs:[this.info.pic.isGif?this.info.pic.commentDynamicPicUrl:this.info.pic.commentStaticPicUrl],index:0,isNotShowIndex:!1}})}}},$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cmp",on:{click:e.cmpClick}},[i("div",{staticStyle:{height:"50dp",width:"0.5dp"}}),e.info.src?i("div",{staticClass:"img"},[i("image",{ref:"poster",staticClass:"img",attrs:{src:e.info.src,resize:"cover"}}),e.iconInfo?i("image",{staticStyle:{position:"absolute"},style:e.iconInfo.style,attrs:{src:e.iconInfo.src,resize:"cover"}}):e._e()]):e._e(),i("div",{staticClass:"cmp_content",class:{cmp_content_hasGif:e.info.pic}},[i("text",{staticClass:"cmp_title",style:{lines:e.info.lines||1}},[e._v(e._s(e.info.title))]),e.info.pic?i("div",{staticClass:"pic-wrapper",style:{width:e.picWidth,backgroundColor:e.picSuccess?"transparent":"#eeeeee",marginBottom:e.communityInfo||e.info.desc?"5dp":"4dp"}},[i("image",{staticClass:"pic",style:{width:e.picWidth},attrs:{src:e.info.pic.commentStaticPicUrl,resize:"cover"},on:{finish:e.onPicFinish,click:e.showPicture}}),e.info.pic.isGif?i("text",{staticClass:"pic-brand",attrs:{value:"动图"}}):e._e()]):e._e(),e.gt799&&e.communityInfo?i("text",{staticClass:"desc"},[e._v(e._s(e.communityInfo.communityName))]):e.info.desc?i("text",{staticClass:"desc"},[e._v(e._s(e.info.desc))]):e._e()])])};$._withStripped=!0;var ee=i(40),te=Object(B.a)(Z,$,[],!1,ee,"data-v-7c1cb05c",null);te.options.__file="src/pages/messageBox/msgCmp.vue";var ie=te.exports;function re(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1);var i,r,n,o,a="";if(0!==e.length){var s=e.slice(0);a+=s[s.length-1].biuLevel_comment.replace(/^：/,"");for(var c=!0,l=s.length-2;l>=0;l--){var d=s[l];a+=(r=void 0,void 0,2===(n=(i=d).op_type)?t&&c?c=!1:r=i.jumpName:r=3===n?i.jumpName:"@"+i.biuLevel_nick,r?r+" ":""),a+=d.biuLevel_comment+" "}}return void 0===o&&(o=" "),a.replace(/\n/g,o)}var ne={mixins:[E.a],props:["biuLevelList","lines","prefix"],computed:{biuList:function(){var e,t,i,r,n,o=[],a=this.biuLevelList,s=this.prefix;if(0!==a.length){s&&(s+=": ");var c=function(e){return{comment:e.biuLevel_comment+" ",isJump:0}},l=c(a[a.length-1]);l.comment=l.comment.replace(/^：/,""),o.push(l);for(var d=a.length-2;d>=0;d--){var p=a[d];o.push((t=void 0,i=void 0,r=void 0,void 0,2===(n=(e=p).op_type)||3===n?(t=e.jumpName,i=e.jumpUrl):(t="@"+e.biuLevel_nick,r=e.biuLevel_uin),{nick:t+" ",url:i,uin:r,type:n,isJump:1})),o.push(c(p))}}return s&&o.unshift({comment:s}),o}},methods:{nickClick:function(e){this.$emit("nickClick",e)},textClick:function(){this.$emit("textClick")}}},oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("richtext",{staticStyle:{fontSize:"16dp",textOverflow:"ellipsis"},style:e.lines?{lines:e.lines}:{},on:{click:e.textClick}},[e._l(e.biuList,function(t,r){return[t.isJump&&t.nick?i("span",{key:r,style:{color:e.gt800?"#4799DF":"#285c95"},on:{click:function(i){i.stopPropagation(),e.nickClick(t)}}},[e._v(e._s(t.nick))]):i("span",{key:r},[e._v(e._s(t.comment))])]})],2)};oe._withStripped=!0;var ae=Object(B.a)(ne,oe,[],!1,null,null,null);ae.options.__file="src/pages/messageBox/biuText.vue";var se={props:["comment"],data:function(){return{picWidth:"90dp",isIOS:"iOS"==ViolaEnv.platform,picSuccess:!1}},components:{"biu-text":ae.exports},computed:{commentList:function(){var e=this.comment.list||[];return"string"==typeof e?[{biuLevel_comment:e}]:e},deleteText:function(){return this.comment.list}},methods:{nickClick:function(e){var t=e.uin,i=e.url,r=e.type;2===r||3===r?this.$emit("jumpUrl",i):this.$emit("jumpToUser",t)},onPicFinish:function(e){if(e.success){if(this.picSuccess=!0,e.image.height==e.image.width)return this.picWidth="90dp";this.picWidth=90/e.image.height*e.image.width+"dp"}},showPicture:function(e){e.stopPropagation(),viola.requireAPI("bridge").invoke({ns:"media",method:"showPicture",params:{imageIDs:[this.comment.pic.isGif?this.comment.pic.commentDynamicPicUrl:this.comment.pic.commentStaticPicUrl],index:0,isNotShowIndex:!1}})}}},ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{marginTop:"0dp"}},[e.comment.isDelete?i("text",{staticClass:"delete_text",attrs:{value:e.deleteText}}):i("biu-text",{staticStyle:{color:"#262626",ellipsisColor:"#262626"},attrs:{lines:e.comment.lines,biuLevelList:e.commentList,prefix:e.comment.prefix},on:{nickClick:e.nickClick}}),!e.comment.isDelete&&e.comment.pic?i("div",{staticClass:"pic-wrapper",style:{width:e.picWidth,backgroundColor:e.picSuccess?"#ffffff":"#f6f6f6"}},[i("image",{staticClass:"pic",style:{width:e.picWidth},attrs:{src:e.comment.pic.commentStaticPicUrl||e.comment.pic.commentDynamicPicUrl,resize:"cover"},on:{finish:e.onPicFinish,click:e.showPicture}}),e.comment.pic.isGif?i("text",{staticClass:"pic-brand",attrs:{value:"动图"}}):e._e()]):e._e()],1)};ce._withStripped=!0;var le=i(41),de=Object(B.a)(se,ce,[],!1,le,"data-v-1d9a0c16",null);de.options.__file="src/pages/messageBox/msgComment.vue";var pe=de.exports,ue=function(e){viola.requireAPI("bridge").invoke({ns:"schema",method:"jumpAction",params:{schema:e}})},fe={mixins:[E.a],props:["cellData","index"],data:function(){return{gte800:this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0}},computed:{oriDeleteInfo:function(){return function(e){var t=e.type,i=e.biuLevelList;void 0===i&&(i=[]);var r=e.originFeedsType,n=e.deleteStatus;if(void 0===n&&(n=0),0===n)return{innerDelete:0,outerDelete:0,biuDelete:0};var o={innerDelete:0,outerDelete:0,biuDelete:0},a=function(e,t){if(t.length>=e)return t;for(var i=t,r=0;r<e-t.length;r++)i="0"+i;return i}(5,n.toString(2)).split(""),s=a[0];void 0===s&&(s="0");var c=a[1];void 0===c&&(c="0");var l=a[2];void 0===l&&(l="0");var d=a[3];void 0===d&&(d="0");var p=a[4];void 0===p&&(p="0");var u=Q.a.isUgc(e.feedsType);switch(t){case 1:u?"1"===c&&(o.innerDelete=2):("1"===c&&(o.innerDelete=3),"1"===s&&(o.biuDelete=1));break;case 2:u?("1"===d&&(o.outerDelete=2),"1"===c&&(o.innerDelete=2)):("1"===d&&(o.outerDelete=2),"1"===c&&(o.innerDelete=3),"1"===s&&(o.biuDelete=1));break;case 3:"1"===d&&(o.innerDelete=1),"1"===l&&(o.outerDelete=3);break;case 4:1!==i.length||4!==r&&5!==r?("1"===s&&(o.biuDelete=1),"1"===c&&(o.innerDelete=3),"1"===p&&(o.outerDelete=1)):("1"===c&&(o.innerDelete=2),"1"===p&&(o.outerDelete=1));break;case 5:"1"===d&&(o.innerDelete=1),"1"===l&&(o.outerDelete=3);break;case 7:u?"1"===c&&(o.innerDelete=3):("1"===p&&(o.outerDelete=1,o.innerDelete=3),"1"===c&&(o.innerDelete=3));break;case 8:"1"===d&&(o.innerDelete=1);break;case 200:p===c==="1"&&(o.innerDelete=4);break;case 201:"1"===c&&(o.innerDelete=4),"1"===p&&(o.outerDelete=4);break;case 202:"1"===p&&"1"===c&&(o.innerDelete=2);break;case 300:"1"===p&&(o.outerDelete=5)}return o}(this.cellData)},outerDelete:function(){return this.oriDeleteInfo.outerDelete},info:function(){var e=this,t=this.cellData,i=t.type,r=(t.isDelete,this.oriDeleteInfo);this.deleteInfo=r,this.type=i;var n,o,a,s=0;2===i?2===r.outerDelete?(n=l[r.outerDelete],s=1):(n=t.comment&&(t.comment.commentText||c),o=6,2==t.comment.mediaType&&(n+="[语音]"),t.comment.gifList&&t.comment.gifList.length&&(a=t.comment.gifList[0])):-1!=[300].indexOf(i)?5===r.outerDelete?(n=l[r.outerDelete],s=1):(n=t.desc,o=6):-1!=[4,7].indexOf(i)?1===r.outerDelete?(n=l[r.outerDelete],s=1):(n=25===t.originFeedsType?this.mergeAtLevelList():t.biuLevelList,o=6):-1!=[3,5,8].indexOf(i)?8!==i&&(3===r.outerDelete?(n=l[r.outerDelete],s=1):(n=t.feedback.commentText||c,o=6,2==t.feedback.mediaType&&(n+="[语音]"),t.feedback.gifList&&t.feedback.gifList.length&&(a=t.feedback.gifList[0]))):-1!=[201].indexOf(i)&&(4===r.outerDelete?(n=l[r.outerDelete],s=1):(n=t.ugcInfo.ugcAtLevelList,o=6)),setTimeout(function(){W("卡片信息",{i:e.index,info:t})},200);var d=6===t.type?h[6]:"",p=0;return n?("string"==typeof n&&n.length>=1||n.length>1)&&(p=1):d&&(p=1),{content:this.genCmpInfo(r),hasComment:p,comment:{list:n,pic:a,lines:o,prefix:d,isDelete:s}}}},methods:{hexToString:function(e){for(var t="",i=0;i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t},genCmpInfo:function(e){var t,i,r,n,o,a,s=this.cellData,l=s.type;if(-1!=[6,300].indexOf(l))return null;if(e.innerDelete)return b[e.innerDelete]||{};if(-1!==[200,201].indexOf(l)){var d=s.ugcInfo.ugcWendaInfo;t=d.wendaTitle,i=d.wendaPicurl||m}else if(-1===[3,5,8].indexOf(l)){var p=s.originFeedsType;if(-1!==[4,5].indexOf(p)){var u=s.ugcInfo;if(1===u.ugcBusinessType){var f="",h=u.ugcWendaInfo.wendaTitle;if(h&&(r="来自问题: "+h),i=s.picurl)f="";else(viola._base64Uin||(viola._base64Uin=z.a.encode(viola.pageData.uin+"")))===u.ugc_uin?f="我的回答: ":(f=u.ugc_remark||u.ugc_nick||"QQ用户",f+=": "),o=3;t=""+f+re(u.ugcAtLevelList)}else{var v="";s.picurl?(i=s.picurl,o=1):(v=(u.ugc_remark||u.ugc_nick||"QQ用户")+": ",o=3),t=v+re(u.ugcAtLevelList,!0),u.topicTitle&&(r=u.topicTitlePrefix+u.topicTitle);var _=u.ugcBusinessType;(3===_||4===_||5===_)&&(a="live")}}else if(25===p&&s.accountRecommendInfo){var y=s.accountRecommendInfo;i=y.accountHeaderUrl,t=y.accountName,r=y.accountDesc}else 27===p?(i=s.picurl||"http://sqimg.qq.com/qq_product_operations/kan/images/message_box_h5.png",t="@"+s.site+": "+s.title):(t=s.title,i=s.picurl||g,t.trim()||W("title为空",s))}else o=3,s.comment&&2==s.comment.mediaType?(i="http://sqimg.qq.com/qq_product_operations/kan/images/messagebox_audio_icon.png",o=1):s.comment&&s.comment.gifList&&s.comment.gifList.length&&(n=s.comment.gifList[0]),t=s.comment&&(s.comment.commentText||s.comment.gifList)?"我的评论："+(s.comment.commentText||""):c,2==s.comment.mediaType&&(t+="[语音]");return a||s.isVideo&&(a="video"),s.comment&&2==s.comment.mediaType&&(a=null),{title:t,src:i,desc:r,lines:o,pic:n,isVideo:s.isVideo,iconType:a}},mergeAtLevelList:function(){var e=this.cellData.accountRecommendInfo,t=this.cellData.biuLevelList;if(!e||!e.accountAtLevelList)return this.cellData.biuLevelList||[];var i=e.accountAtLevelList;if(i)if(t&&t.length){var r=JSON.parse(JSON.stringify(t[0]));r.biuLevel_comment+=" //",t=[r].concat(t.slice(1))}else t=[];else i=[];return i.concat(t)},jumpToUser:function(e){!function(e){e&&T(C(I,[e]))}(e),this.reportClick(1)},redirectToCardOuter:function(){var e=this.cellData,t=e.type,i=e.feedsType,r=e.feeds_id,n=e.commentId,o=e.biu_owner_uin,a=e.originFeedsType,s=e.originFeedsId,c=e.biuLevelList;void 0===c&&(c=[]);var l=this.cellData.ugcInfo.ugc_uin,d="";if(6!==t){var u=this.deleteInfo;switch(t){case 1:case 2:if(1===u.biuDelete)this.showTips("你已删除了该内容");else if(0!==u.innerDelete)this.showTips(p[u.innerDelete]);else{var f=this.cellData.ugcInfo;d=2===t&&1===f.ugcBusinessType?f.ugcWendaInfo.wendaAnswerUrl:C(w,[o,r,i])}break;case 4:0===u.outerDelete?d=C(w,[o,r,i]):1===u.biuDelete?this.showTips("你已删除了该内容"):(d=this.getSourceBiu(c))||(0===u.innerDelete?l&&(d=C(w,[l,s,a])):this.showTips(p[u.innerDelete]));break;case 8:if(1===u.biuDelete)return void this.showTips("你已删除了该内容");case 3:case 5:0!==u.innerDelete?this.showTips(p[u.innerDelete]):d=C("https://kandian.qq.com/mqq/watchspot/new_sub_comment.html?comment_id={0}&feeds_id={1}&feeds_type={2}&content_src=7&_wvNlb=0xffffff&_wvxBclr=0xffffff&_bid=3673",[this.hexToString(n),r,i]);break;case 7:1===u.biuDelete||0!==u.outerDelete||0!==u.innerDelete?this.showTips("原内容已删除"):d=C(w,[o,r,i]);break;case 200:case 202:if(0!==u.innerDelete)this.showTips(p[u.innerDelete]);else{var h={200:"wendaQuestionUrl",202:"wendaAnswerUrl"}[t];d=this.cellData.ugcInfo.ugcWendaInfo[h]}break;case 201:if(0!==u.innerDelete)this.showTips(p[u.innerDelete]);else{var m=this.cellData.ugcInfo.ugcWendaInfo;d=4===u.outerDelete?m.wendaQuestionUrl:m.wendaAnswerUrl}break;case 300:d=C(y.a,[this.cellData.uin]),Object(U.a)("0X8009BB2",{},z.a.decode(this.cellData.uin))}d?T(d):W("外层点击：当前 url 为空，检查条件！",this.cellData),this.reportClick(3)}},redirectToCardInner:function(e){e.stopPropagation();var t=this.deleteInfo,i=this.cellData,r="";if(0===t.innerDelete){if(1==i.feedsType&&[1,3,5,8].indexOf(i.type)>=0){if(1===t.biuDelete)return this.showTips("你已删除了该内容");var n=i.feeds_id,o=i.feedsType,a=i.biu_owner_uin;r=C(w,[a,n,o])}else if(i.isVideo)Object(M.a)({rowkey:i.rowkey,articleId:i.articleid,feedsId:i.feeds_id,feedsType:i.feedsType,originFeedsId:i.originFeedsId,originFeedsType:i.originFeedsType,frame:this.isIOS?e.frame:{},articleUrl:i.articleurl});else if(3==i.mediaType&&i.rowkey&&this.gte800)ue(C(k,[i.rowkey]));else if(i.articleurl)0==i.mediaType&&12==i.originFeedsType&&this.isAndroid&&this.gte800?ue(C(A,[i.rowkey,z.a.encode(i.articleurl)])):r=i.articleurl;else{var s=i.originFeedsId,c=i.originFeedsType,l=i.ugcInfo,d=i.biu_owner_uin;r=C(w,[l&&l.ugc_uin||d,s,c])}r&&T(r),this.reportClick(2)}else this.showTips(p[t.innerDelete])},getSourceBiu:function(e){if(e){return viola._base64Uin||(viola._base64Uin=z.a.encode(viola.pageData.uin+"")),function(t){for(var i=0;i<e.length;i++){var r=e[i];if(r.biuLevel_uin===t&&10!==r.status){if("0"===r.biuLevel_feeds_id)return;return C(w,[r.biuLevel_uin,r.biuLevel_feeds_id,r.biuLevel_feeds_type])}}}(viola._base64Uin)}},showTips:function(e){viola.requireAPI("bridge").invoke({ns:"ui",method:"showTips",params:{text:e,iconMode:3}},function(e){"string"==typeof e&&(e=JSON.stringify(e)),e.code})},jumpUrl:function(e){e&&T(e)},cardAppear:function(){if(!this._appear){this._appear=1;var e=this.cellData,t=viola.pageData.uin;Object(U.a)("0X8009A86",{r1:t,r2:viola.reddot_num,r3:viola._entry,r4:viola.msg_status,r5:e.type,r7:e.feeds_id,r8:e.feedsType},t)}},reportClick:function(e){var t=viola.pageData.uin,i=this.cellData;Object(U.a)("0X8009A87",{r1:t,r2:viola.reddot_num,r3:viola._entry,r4:viola.msg_status,r5:i.type,r6:e,r7:i.feeds_id,r8:i.feedsType,r9:i.originFeedsId,r10:i.originFeedsType},t)}},components:{"msg-header":K,"msg-cmp":ie,"msg-comment":pe}},he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("cell",{staticClass:"msg_cell",on:{click:function(t){return t.stopPropagation(),e.redirectToCardOuter(t)},appear:e.cardAppear}},[i("div",{on:{click:function(t){t.stopPropagation(),e.jumpToUser(e.cellData.uin)}}},[i("image",{staticClass:"img",attrs:{src:e.cellData.qqheadurl,resize:"cover"}}),e.cellData.isApproved?i("image",{staticStyle:{width:"14dp",height:"14dp",position:"absolute",borderRadius:"14dp",top:"18dp",right:"-2dp"},attrs:{src:"http://sqimg.qq.com/qq_product_operations/kan/images/golden_v.png?_bid=2378"}}):e._e()]),i("div",{staticClass:"content"},[i("msg-header",{attrs:{info:e.cellData,outerDelete:e.outerDelete},on:{jumpToUser:e.jumpToUser,follow:function(t){e.reportClick(0)}}}),e.info.hasComment?i("msg-comment",{attrs:{comment:e.info.comment},on:{jumpToUser:e.jumpToUser,jumpUrl:e.jumpUrl}}):e._e(),e.info.content?i("msg-cmp",{attrs:{info:e.info.content,communityInfo:e.cellData.communityInfo},on:{cmpClick:e.redirectToCardInner}}):e._e(),i("text",{staticClass:"content_time"},[e._v(e._s(e.cellData.timeTips))])],1)])};he._withStripped=!0;var me=i(38),ge=Object(B.a)(fe,he,[],!1,me,"data-v-5cbd1b3c",null);ge.options.__file="src/pages/messageBox/msgCell.vue";var ve=ge.exports;var _e=function(e,t){switch(t.type){case 0:case 1:!function(e){viola.requireAPI("bridge").invoke({ns:"ui",method:"openUrl",params:{url:e}})}(e);break;case 2:!function(e,t){t.isIOS?viola.requireAPI("bridge").invoke({ns:"app",method:"launchApp",params:{identifier:e}}):viola.requireAPI("bridge").invoke({ns:"app",method:"launchApp",params:{schema:e}})}(e,t)}},be={mixins:[{mounted:function(){var e=this;if(!this.violaT||!this.violaT.id)throw new Error("\n        Viola 页面上报缺乏数据, 请确认：\n        data () {\n          return {\n            violaT: {\n              id: 业务id\n            }\n          }\n        }\n      ");var t=this.violaT,i=t.id,r="Web"==ViolaEnv.platform?location.url:viola.pageData.url,n=t.hasCache||0;this._VT("0X8009854",{r5:{pageId:i,pageUrl:r}}),setTimeout(function(){var t=viola.requireAPI("bridge")||{};t.invoke&&t.invoke({ns:"data",method:"getPerformance"},function(t){var o=t.data;if(o){var a={pageId:i,pageUrl:r,hasCache:n,pageCost:o.pageCostTime||o.pageCost};o.jsCostTime&&(a.jsCost=o.jsCostTime),e._VT("0X8009853",{r5:a})}})},500)},methods:{_VT:function(e,t){var i=viola.requireAPI("QReport");i&&i.reportT(e,t)},_FCT:function(e){e&&(e.pageId=this.violaT&&this.violaT.id)&&e.time&&this._VT("0X8009855",{r5:e})}}},E.a],data:function(){return{title:"我的消息",emptyText:a,errorText:s,loadMoreType:L.a.MORE,loadMoreWord:"",isError:!1,isEmpty:!1,msgList:[],isNew:0,isEnd:0,isIOS:D.a,isNetErr:!1,violaT:{id:2}}},components:{"system-cell":F,"msg-cell":ve,"load-more":L.b,"error-page":O.a,"empty-page":j.a},created:function(){var e=this;if(this.initTitle(),this.fromNews=0,this.pageCookies="",this.canRetry=1,this.hasNetError=!1,viola.reddot_num=0,viola.msg_status=2,"2"==D.b.adtag)this.isNew=1,this.fromNews=1,this.initData(!1),viola.msg_status=1;else if(D.a){var t=viola.pageData.cache;t&&t.length&&("string"==typeof t&&(t=JSON.parse(t)),this.violaT.hasCache=1,this.msgList=t),this.initData()}else Object(S.a)(o,function(t){"[object Array]"===Object.prototype.toString.call(t)&&t.length&&(e.msgList=t,e.violaT.hasCache=1),e.initData()});viola._entry=D.b.message_entry||2,W("检查页面URL",{isNew:this.isNew,url:viola.pageData.url})},methods:{isSystemMsg:function(e){return-1!==[100,101,102,103].indexOf(e)},request:function(e){var t=this,i="",r={};this.isIOS||this.compareVersion(ViolaEnv.appVersion,"8.0.0")>=0?i=x+"?pageCookies="+encodeURIComponent(this.pageCookies)+"&isNew="+this.isNew+"&pageSize=16&isBiuLevel=1":(i=x,r={isNew:this.isNew,pageSize:20,isBiuLevel:1,pageCookies:encodeURIComponent(this.pageCookies)}),q.a.get({url:i,data:r,success:function(i){if(0===i.retcode&&0===i.result.retCode){t.isNetErr&&(t.isNetErr=!1),t.loadMoreWord="";var r=i.result.retObj;t.isEnd=r.end,t.pageCookies=r.pageCookies,t.isNew&&(viola.reddot_num=r.total_count),0==r.total_count?t.isNew?(t.netError(),W("有新消息, 但 total_count 为 0",{isNew:t.isNew,retObj:r})):t.isEmpty=!0:r.messageinfos?(e.call(t,r.messageinfos),r.messageinfos.length&&(r.messageinfos="数据为正常数组，过长忽略，见单条数据"),W("后台数据",i)):(1!=r.end&&W("没有end,但也没有messageInfos",{isNew:t.isNew,retObj:r}),t.isEnd=1,W("有total_count, 没有messageInfos",{isNew:t.isNew,retObj:r}))}else t.netError(),W("数据错误",{isNew:t.isNew,res:i});t.canRetry=1},error:function(e){t.netError(),t.canRetry=1,W("网络错误",{isNew:t.isNew,res:e})}})},initData:function(e){var t=this;void 0===e&&(e=!0),this.request(function(i){t.hadInit=1,i&&i.length?t.msgList=i:t.msgList.length||(t.isEmpty=!0),e&&Object(S.b)(o,i.slice(0,10))})},loadMoreData:function(e){var t=this;this.msgList=this.msgList.concat(e),setTimeout(function(){t.loadMoreFinish()},100),this.fromNews&&(Object(S.b)(o,this.msgList),this.fromNews=0)},loadMoreFinish:function(){this.$refs.list&&this.$refs.list.loadMoreFinish()},preLoad:function(){this.isEnd||this.request(this.loadMoreData)},netError:function(){var e=this;return this.hasNetError=!0,this.isNew?(this.isError=!0,void W("拉取新消息错误","错误页展示")):this.msgList.length?(this.isEnd=!0,void W("footer 提示网络异常")):void Object(S.a)(o,function(t){t&&t.length?e.msgList=t:e.isError=!0})},jump:function(e){var t=e.url,i=e.opts;0!==i.type&&1!==i.type?2===i.type&&(this.isIOS?viola.requireAPI("bridge").invoke({ns:"app",method:"isAppInstalled",params:{identifier:"rijvideo://main"}},function(e){return 1==e.data.result?(t=i.schema,void _e(t,i)):(i.type=0,void _e(t,i))}):viola.requireAPI("bridge").invoke({ns:"app",method:"isAppInstalled",params:{identifier:"com.tencent.rijvideo"}},function(e){return 1==e.data.result?(t=i.schema,void _e(t,i)):(i.type=0,void _e(t,i))})):_e(t,i)},showAll:function(){this.isEnd=0,this.isNew=0,viola.reddot_num=0,this.request(this.loadMoreData)},openPrivateLetters:function(){var e=viola.requireAPI("bridge");e&&e.invoke&&e.invoke({ns:"readinjoy",method:"openPrivateLetter"})},initTitle:function(){viola.requireAPI("bridge").invoke({ns:"ui",method:"setTitle",params:{title:"我的消息"}})}}},ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{flex:"1",backgroundColor:"white"}},[e.isIOS?i("text",{staticStyle:{position:"absolute"}}):e._e(),e.msgList.length?e._e():i("load-more",{staticStyle:{position:"absolute",top:"0",left:"0",width:"750"},attrs:{type:e.loadMoreType}}),e.isError||e.isEmpty?e._e():i("list",{ref:"list",staticStyle:{flex:"1"},attrs:{preloadDistance:"100dp"},on:{loadMore:e.preLoad}},[e._l(e.msgList,function(t,r){return[e.isSystemMsg(t.type)?i("system-cell",{key:r,attrs:{cellData:t},on:{cellClick:e.jump}}):i("msg-cell",{key:r,attrs:{index:r,cellData:t}})]}),e.msgList.length?[e.isNew?i("cell",{staticClass:"show_all",on:{click:function(t){return t.stopPropagation(),e.showAll(t)}}},[i("text",{staticClass:"show_all_text"},[e._v("查看更早消息")])]):i("cell",[e.isEnd?i("load-more",{key:2,attrs:{type:"over"}}):i("load-more",{key:1,attrs:{type:e.loadMoreType}})],1)]:e._e()],2),e.isEmpty?i("empty-page",{attrs:{wording:e.emptyText}}):e._e(),e.isError?i("error-page"):e._e()],1)};ye._withStripped=!0;var xe=i(36),we=Object(B.a)(be,ye,[],!1,xe,"data-v-690b076a",null);we.options.__file="src/pages/messageBox/index.vue";var ke=we.exports,Ae=i(26);new(i.n(Ae).a.Sentry)({dsn:"https://bb17b76b3d14432a99b4cf2b1a41ff98@report.url.cn/sentry/1284"}).listen(),new Vue({el:"#app",components:{cmp:ke},render:function(e){return e(ke)}})}]);